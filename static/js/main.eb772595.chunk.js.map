{"version":3,"sources":["ui/ProfilePage/ProfileData/ProfileData.module.css","ui/common/FormsConrols/FormControls.module.css","ui/DialogsPage/DialogItem/DialogItem.module.css","ui/App.module.css","ui/ProfilePage/MyPost/MyPost.module.css","ui/UsersPage/User/User.module.css","ui/FriendsPage/Friends.module.css","ui/DialogsPage/Dialogs.module.css","ui/common/Preloaders/Preloader.module.css","ui/Header/Header.module.css","ui/Login/Login.module.css","img/preloader.gif","serviceWorker.js","dal/instance.js","dal/prifileApi.js","bll/profileReducer.js","dal/authApi.js","bll/authReducer.js","dal/dialogsApi.js","bll/dialogsReducer.js","bll/appReduсer.js","dal/usersApi.js","bll/usersReducer.js","dal/friendsApi.js","bll/friendsReducer.js","bll/store.js","ui/Header/Header.js","ui/Header/HeaderContainer.js","utils/validators/validators.js","ui/common/FormsConrols/FormControls.js","ui/Login/LoginForm.js","ui/Login/Login.js","ui/ProfilePage/ProfileData/ProfileDataForm.jsx","ui/ProfilePage/ProfileData/Contact.js","ui/ProfilePage/ProfileData/ProfileData.jsx","ui/ProfilePage/Status/ProfileStatus.js","ui/ProfilePage/MyPost/Post/Post.jsx","ui/ProfilePage/MyPost/MyPost.jsx","ui/ProfilePage/MyPost/MyPostContainer.jsx","ui/common/Preloaders/PreloaderForInit.js","ui/ProfilePage/Profile.js","ui/Hoc/WithAuthRedirect.js","ui/ProfilePage/ProfileContainer.js","ui/common/Search/SearchReduxForm.jsx","ui/common/Search/Search.jsx","ui/common/Paginator/Paginator.js","ui/UsersPage/User/User.js","ui/UsersPage/Users.js","bll/selectors/usersSelectors.js","ui/UsersPage/UsersContainer.js","ui/FriendsPage/FriendsItem/FriendsItem.jsx","ui/FriendsPage/Friends.jsx","ui/FriendsPage/FriendsContainer.jsx","ui/DialogsPage/DialogItem/DialogsItem.jsx","ui/DialogsPage/AddMessageForm.js","ui/DialogsPage/Message/Message.jsx","ui/DialogsPage/Dialogs.jsx","ui/DialogsPage/DialogsContainer.jsx","ui/App.js","ui/common/Preloaders/Preloader.js","ui/AppContainerWithHooks.js","index.js","img/ava.png","ui/FriendsPage/FriendsItem/Friend.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","instance","axios","create","baseURL","withCredentials","headers","profileApi","userId","get","status","put","file","formData","FormData","append","profile","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO","EDIT_MODE","ADD_POST","DELETE_POST","initialState","posts","editMode","setStatusSuccess","type","payload","savePhotoSuccess","setEditMode","addPostSuccess","post","getUsersProfile","dispatch","a","response","data","authApi","email","password","rememberMe","captcha","delete","SET_USER_DATE","GET_CAPTCHA_URL","id","login","isAuth","captchaUrl","setAuthUserDate","getAuthUserDate","resultCode","getCaptchaUrl","url","dialogsApi","then","res","items","body","messageId","SET_MESSAGE","GET_DIALOGS","GET_MESSAGE","SET_CURRENT_DIALOGS","SET_LOADING_MESSAGES","SET_LOADING_DIALOGS","SET_NEW_MESSAGES_COUNT","PUT_UP_DIALOGS","SET_CHANGE_NEW_MESSAGES","DELETE_MESSAGE","messages","dialogs","currentDialogsId","loadingMessages","loadingDialogs","newMessagesCount","currentDialogsMessagesCount","update","state","action","setCurrentDialogsId","setHasNewMessages","hasNewMessages","putUpDialog","setLoadingMessagesSuccess","setLoadingDialogsSuccess","deleteMessageSuccess","getNewMessages","getState","dialogsPage","getDialogs","getMessages","startDialogs","find","d","Number","SET_INITIALIZED","initialized","initializeApp","promise","Promise","all","usersApi","currentPage","pageSize","searchName","FOLLOW","UN_FOLLOW","SET_USERS","CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_PORTION_NUMBER","TOGGLE_IS_FETCHING","SET_SEARCH_NAME","users","friends","totalItemsCount","isFetching","followingInProgress","loadingFriends","portionSize","portionNumber","followSuccess","unFollowSuccess","setPortionNumber","setSearchNameSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsers","newPage","usersPage","totalCount","friendsApi","REMOVE_FRIENDS","removeSuccess","friendId","getFriends","reducers","combineReducers","form","formReducer","profilePage","photos","filter","p","postId","map","u","followed","friendsPage","message","m","auth","app","store","createStore","composeWithDevTools","applyMiddleware","thunk","useStyles","makeStyles","theme","grow","flexGrow","menuButton","marginRight","spacing","nav","display","breakpoints","up","sectionDesktop","justifyContent","root","maxWidth","sectionMobile","Header","props","classes","React","useState","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMobileMenuOpen","handleMobileMenuClose","renderMobileMenu","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","ListItem","onClick","button","ListItemIcon","className","s","item","to","activeClassName","activeLink","Badge","badgeContent","color","Divider","logout","AppBar","Toolbar","Typography","variant","List","IconButton","aria-label","aria-controls","aria-haspopup","event","currentTarget","HeaderContainer","this","Component","compose","connect","required","value","validate","values","errors","forEach","field","test","FormControl","input","meta","hasError","touched","error","style","formControl","children","Textarea","restProps","renderTextField","label","invalid","custom","TextField","inputForm","placeholder","helperText","renderLoginField","renderCheckbox","FormControlLabel","control","Checkbox","checked","onChange","reduxForm","handleSubmit","onSubmit","Field","name","component","alt","src","margin","maxLength","length","stopSubmit","_error","main","ProfileDataReduxForm","e","target","files","savePhoto","Object","keys","contacts","key","formSummaryError","Button","cancelEditMode","Contact","contactTitle","contactValue","icon","faFacebook","size","faTwitter","faAddressCard","faInstagram","faYoutube","faGithub","faLinkedinIn","href","ProfileData","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","isOwner","goToEditMode","ProfileStatus","activateEditMode","setState","deactivateEditMode","updateStatus","onKeYPress","onStatusChange","prevProps","prevState","snapshot","onKeyPress","onBlur","autoFocus","onDoubleClick","Post","Fragment","ListItemAvatar","Avatar","photo","ListItemText","primary","secondary","edge","deletePost","maxLength10","AddNewPostFormRedux","MyPost","memo","postsElement","postBlock","addPost","newPostText","MyPostContainer","large","Math","floor","random","likeCounts","reset","backdrop","zIndex","drawer","PreloaderInit","Backdrop","CircularProgress","Profile","ava","initialValues","saveProfile","mapStateToPropsRedirect","WithAuthRedirect","RedirectComponent","ProfileContainer","refreshProfile","params","authorizedUserId","history","push","setStatus","reject","withRouter","SearchReduxForm","fontSize","Search","search","Paginator","pagesCount","ceil","pages","i","portionCount","leftPortionPageNumber","rightPortionPageNumber","firstPortion","prevPortion","onPageChanged","nextPortion","position","bottom","right","ScrollTop","trigger","useScrollTrigger","undefined","disableHysteresis","threshold","Zoom","in","anchor","ownerDocument","document","querySelector","scrollIntoView","behavior","block","User","path","user","small","img","disabled","some","unFollow","follow","border","Users","getUsersSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","getPortionNumber","UsersContainer","FriendsItem","friend","openDialogs","unFollowFriend","Friends","friendsElement","f","useSelector","useDispatch","useCallback","removeFriend","useEffect","friendsId","DialogItem","handleDrawerClose","dialogsItems","userName","AddMessageFormRedux","Message","senderName","deleteMessage","hide","width","flexShrink","drawerPaper","drawerHeader","alignItems","Dialogs","useTheme","setOpen","dialogsElement","messagesElement","Drawer","paper","direction","clsx","addNewMessage","DialogsContainer","sendMessage","newMessageBody","init","updateDialog","App","appWrapper","appWrapperContent","exact","render","from","Preloader","preloader","setInterval","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,KAAO,0BAA0B,iBAAmB,wC,oBCAtED,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,uCAAuC,UAAY,kC,oBCA5KD,EAAOC,QAAU,CAAC,aAAe,iCAAiC,WAAa,+BAA+B,IAAM,0B,oBCApHD,EAAOC,QAAU,CAAC,WAAa,wBAAwB,kBAAoB,iC,oBCA3ED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,wB,oBCAhED,EAAOC,QAAU,CAAC,KAAO,mBAAmB,IAAM,kBAAkB,OAAS,uB,oBCA7ED,EAAOC,QAAU,CAAC,KAAO,sBAAsB,OAAS,0B,oBCAxDD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,SAAW,4B,oBCAhED,EAAOC,QAAU,CAAC,KAAO,wBAAwB,UAAY,+B,mBCA7DD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,WAAa,6B,oBCArFD,EAAOC,QAAU,CAAC,KAAO,sB,oBCDzBD,EAAOC,QAAU,IAA0B,uC,gJCYvBC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,wGChBOC,E,OAAWC,EAAMC,OAAO,CACjCC,QAAQ,gDACRC,iBAAiB,EACjBC,QAAS,CACL,UAEI,0CCLCC,EAAa,SACPC,GACX,OAAOP,EAASQ,IAAT,kBAAwBD,KAF1BD,EAAa,SAIZC,GACN,OAAOP,EAASQ,IAAT,yBAA+BD,KALjCD,EAAa,SAOTG,GACT,OAAOT,EAASU,IAAT,iBACH,CAACD,OAAQA,KATRH,EAAa,SAWZK,GACN,IAAIC,EAAW,IAAIC,SAGnB,OAFAD,EAASE,OAAO,QAASH,GAElBX,EAASU,IAAT,gBACHE,EAAU,CACNP,QAAS,CAAC,eAAgB,0BAjB7BC,EAAa,SAqBVS,GACR,OAAOf,EAASU,IAAT,UACHK,I,QCvBNC,EAAmB,0CACnBC,EAAa,oCACbC,EAAa,oCACbC,EAAY,mCACZC,EAAW,kCACXC,EAAc,qCAGdC,EAAe,CACjBP,QAAS,KACTN,OAAQ,GACRc,MAAO,GACPC,UAAU,GAuCDC,EAAmB,SAAChB,GAAD,MAAa,CAACiB,KAAMT,EAAYU,QAAS,CAAClB,YAC7DmB,EAAmB,SAACjB,GAAD,MAAW,CAACe,KAAMR,EAAYP,SACjDkB,EAAc,SAACL,GAAD,MAAe,CAACE,KAAMP,EAAWK,aAC/CM,EAAiB,SAACC,GAAD,MAAW,CAACL,KAAMN,EAAUW,SAI7CC,EAAkB,SAACzB,GAAD,8CAAY,WAAO0B,GAAP,eAAAC,EAAA,sEAClB5B,EAA0BC,GADR,OACnC4B,EADmC,OAEvCF,GAVkClB,EAUHoB,EAASC,KAVO,CAACV,KAAMV,EAAkBW,QAAS,CAACZ,cAQ3C,iCARN,IAACA,IAQK,OAAZ,uDC1DlBsB,EAAU,WAEf,OAAOrC,EAASQ,IAAT,YAFF6B,EAAU,SAIbC,EAAOC,GAAwC,IAA9BC,EAA6B,wDAATC,EAAS,uCAChD,OAAOzC,EAAS+B,KAAT,aAA4B,CAACO,QAAOC,WAAUC,aAAYC,aAL5DJ,EAAU,WAQf,OAAOrC,EAAS0C,OAAT,eARFL,EAAU,WAWf,OAAOrC,EAASQ,IAAT,6BCVFmC,EAAgB,oCAChBC,EAAkB,sCAGzBtB,EAAe,CACjBuB,GAAI,KACJC,MAAO,KACPR,MAAO,KACPS,QAAQ,EACRC,WAAY,MAsBHC,EAAkB,SAACJ,EAAIP,EAAOQ,EAAOC,GAAnB,MAA+B,CAC1DrB,KAAMiB,EACNhB,QAAS,CAACkB,KAAIP,QAAOQ,QAAOC,YAMnBG,EAAkB,yDAAM,WAAOjB,GAAP,uBAAAC,EAAA,sEACZG,IADY,OAEA,KAD7BF,EAD6B,QAEpBC,KAAKe,aAAmB,EACPhB,EAASC,KAAKA,KAAnCS,EAD2B,EAC3BA,GAAIP,EADuB,EACvBA,MAAOQ,EADgB,EAChBA,MAChBb,EAASgB,EAAgBJ,EAAIP,EAAOQ,GAAO,KAJd,2CAAN,uDAmBlBM,EAAgB,yDAAM,WAAOnB,GAAP,iBAAAC,EAAA,sEACRG,IADQ,OACzBF,EADyB,OAEzBa,EAAab,EAASC,KAAKiB,IACjCpB,EA1B0C,CAACP,KAAMkB,EAAiBS,IA0BpCL,IAHC,2CAAN,uDC3DhBM,EAAa,WAElB,OAAOtD,EAASQ,IAAT,WACF+C,MAAK,SAAAC,GAAG,OAAIA,EAAIpB,SAHhBkB,EAAa,SAKV/C,GACR,OAAOP,EAASQ,IAAT,kBAAwBD,EAAxB,cACFgD,MAAK,SAAAC,GAAG,OAAIA,EAAIpB,KAAKqB,UAPrBH,EAAa,SAST/C,GACT,OAAOP,EAASU,IAAT,kBAAwBH,IAC1BgD,MAAK,SAAAC,GAAG,OAAIA,EAAIpB,SAXhBkB,EAAa,SAaV/C,EAAQmD,GAChB,OAAO1D,EAAS+B,KAAT,kBAAyBxB,EAAzB,aAA4C,CAACmD,SAC/CH,MAAK,SAAAC,GAAG,OAAIA,EAAIpB,SAfhBkB,EAAa,WAkBlB,OAAOtD,EAASQ,IAAT,8BACF+C,MAAK,SAAAC,GAAG,OAAIA,EAAIpB,SAnBhBkB,EAAa,SAqBRK,GACV,OAAO3D,EAAS0C,OAAT,2BAAoCiB,IACtCJ,MAAK,SAAAC,GAAG,OAAIA,EAAIpB,SCtBvBwB,GAAc,qCACdC,GAAc,qCACdC,GAAc,qCACdC,GAAsB,6CACtBC,GAAuB,8CACvBC,GAAsB,6CACtBC,GAAyB,gDACzBC,GAAiB,wCACjBC,GAA0B,iDAC1BC,GAAiB,wCAGnB/C,GAAe,CACfgD,SAAU,GACVC,QAAS,GACTC,iBAAkB,KAClBC,iBAAiB,EACjBC,gBAAgB,EAChBC,iBAAkB,EAClBC,4BAA6B,GAG3BC,GAAS,SAACC,EAAOC,GAAR,sBAAwBD,EAAxB,GAAkCC,EAAOpD,UA6C3CqD,GAAsB,SAACR,GAAD,MAAuB,CAAC9C,KAAMqC,GAAqBpC,QAAS,CAAC6C,sBAEnFS,GAAoB,SAAC1E,EAAQ2E,GAAT,MAA6B,CAACxD,KAAM0C,GAAyB7D,SAAQ2E,mBACzFC,GAAc,SAAC5E,GAAD,MAAa,CAACmB,KAAMyC,GAAgB5D,WAClD6E,GAA4B,SAACX,GAAD,MAAsB,CAAC/C,KAAMsC,GAAsBS,oBAC/EY,GAA2B,iBAAO,CAAC3D,KAAMuC,KACzCqB,GAAuB,SAAC3B,GAAD,MAAgB,CAACjC,KAAM2C,GAAgBV,cA0B9D4B,GAAiB,yDAAM,WAAOtD,EAAUuD,GAAjB,iBAAAtD,EAAA,6DAC1B4C,EAAQU,IADkB,SAEXlC,IAFW,OAE5BnB,EAF4B,OAG5B2C,EAAMW,YAAYd,mBAAqBxC,GACvCF,EA7ByD,CAC7DP,KAAMwC,GACNvC,QAAS,CAACgD,iBA2B8BxC,KAJR,2CAAN,yDAQjBuD,GAAa,yDAAM,WAAOzD,GAAP,eAAAC,EAAA,6DAC5BD,EAASoD,MADmB,SAEL/B,IAFK,OAEtBnB,EAFsB,OAG5BF,EA7C2C,CAACP,KAAMmC,GAAalC,QAAS,CAAC4C,QA6C9CpC,KAC3BF,EAASoD,MAJmB,2CAAN,uDAObM,GAAc,SAACpF,GAAD,8CAAY,WAAO0B,GAAP,eAAAC,EAAA,6DACnCD,EAASmD,IAA0B,IADA,SAEd9B,EAAuB/C,GAFT,cAE/B4B,EAF+B,gBAG7BF,EAnDuC,CAACP,KAAMoC,GAAanC,QAAS,CAAC2C,SAmDzCnC,KAHC,OAInCF,EAASmD,IAA0B,IACnCnD,EAAS+C,GAAoBzE,IAC7B0B,EAASgD,GAAkB1E,GAAQ,IANA,2CAAZ,uDAUdqF,GAAe,SAACrF,GAAD,8CAAY,WAAO0B,EAAUuD,GAAjB,SAAAtD,EAAA,sEAC9BoB,EAAwB/C,GADM,OAEpBiF,IAAWC,YAAYlB,QAAQsB,MAAK,SAAAC,GAAC,OAAIA,EAAEjD,KAAOkD,OAAOxF,OAErE0B,EAASkD,GAAY5E,IAJW,2CAAZ,yDC7HfyF,GAAkB,qCAG3B1E,GAAe,CACf2E,aAAa,GAsBJC,GAAgB,kBAAM,SAACjE,GAChC,IAAIkE,EAAUlE,EAASiB,KAEvBkD,QAAQC,IAAI,CAACF,IAAU5C,MAAK,WACxBtB,EARiC,CAACP,KAAMsE,KASxC/D,EAASsD,WC/BJe,GAAW,SACXC,EAAaC,EAAUC,GAC5B,OAAOzG,EAASQ,IAAI,UACbiG,EAAU,eAAWA,EAAX,KAA2B,KACrCD,EAAQ,gBAAYA,EAAZ,KAA0B,KAClCD,EAAW,eAAWA,GAAgB,KAExChD,MAAK,SAAApB,GAAQ,OAAIA,EAASC,SAP1BkE,GAAW,SASbzD,GACH,OAAO7C,EAAS+B,KAAT,iBAAwBc,GAC3B,KAXCyD,GAAW,SAaXzD,GACL,OAAO7C,EAAS0C,OAAT,iBAA0BG,KCd5B6D,GAAS,8BACTC,GAAY,iCACZC,GAAY,iCAEZC,GAAe,oCACfC,GAAwB,6CACxBC,GAAqB,0CACrBC,GAAqB,0CAGrBC,GAAkB,uCAG3B3F,GAAe,CACf4F,MAAO,GACPC,QAAS,GACTX,SAAU,GACVY,gBAAiB,EACjBb,YAAa,EACbc,YAAY,EACZC,oBAAqB,GACrBC,gBAAgB,EAChBd,WAAY,GACZe,YAAa,EACbC,cAAe,GAgFNC,GAAgB,SAACnH,GAAD,MAAa,CAACmB,KAAMgF,GAAQnG,WAC5CoH,GAAkB,SAACpH,GAAD,MAAa,CAACmB,KAAMiF,GAAWpG,WAEjDqH,GAAmB,SAACH,GAAD,MAAoB,CAAC/F,KAAMqF,GAAoBU,kBAClEI,GAAuB,SAACpB,GAAD,MAAiB,CAAC/E,KAAMuF,GAAiBR,eAChEqB,GAAiB,SAACvB,GAAD,MAAkB,CAAC7E,KAAMmF,GAAcN,gBAExDwB,GAAmB,SAACV,GAAD,MAAiB,CAAC3F,KAAMsF,GAAoBK,eAC/DW,GAA0B,SAACV,EAAqB/G,GAAtB,MAAkC,CACrEmB,KAzGwC,oDA0GxC4F,sBACA/G,WAKS0H,GAAW,SAACC,GAAD,8CAAa,WAAOjG,EAAUuD,GAAjB,uBAAAtD,EAAA,6DACjCD,EAAS6F,GAAeI,IADS,EAEW1C,IAAW2C,UAAhD5B,EAF0B,EAE1BA,YAAaC,EAFa,EAEbA,SAAUC,EAFG,EAEHA,WAC9BxE,EAAS8F,IAAiB,IAHO,SAIZzB,GAAkBC,GAAe2B,EAAS1B,EAAUC,GAJxC,OAI7BtE,EAJ6B,OAKjCF,EAAS8F,IAAiB,IAC1B9F,GApBqBiF,EAoBH/E,EAASsB,MApBK,CAAC/B,KAAMkF,GAAWM,WAqBlDjF,GAjB+BmG,EAiBHjG,EAASiG,WAjBU,CAAC1G,KAAMoF,GAAuBsB,gBAU5C,iCAVH,IAACA,EAJVlB,IAcY,OAAb,yDCxHXmB,GAAa,WAElB,OAAOrI,EAASQ,IAAT,wBAA6B,IAE/B+C,MAAK,SAAApB,GAAQ,OAAIA,EAASC,SCH1BkG,GAAiB,sCAK1BhH,GAAe,CACf6F,QAAS,GACTI,gBAAgB,GAiCPgB,GAAgB,SAACC,GAAD,MAAe,CAAC9G,KAAM4G,GAAgBE,aAMtDC,GAAa,yDAAM,WAAOxG,GAAP,eAAAC,EAAA,6DAC5BD,EALiC,CAACP,KAxCP,yCA4CC,SAEL2G,KAFK,OAEtBlG,EAFsB,OAG5BF,EAPiC,CAACP,KAxCP,yCAgD3BO,EAT2C,CAACP,KAxCrB,mCAwCwCyF,QASpChF,EAASsB,QAJR,2CAAN,uDCvCpBiF,GAAWC,0BAAgB,CAC7BC,KAAMC,IACNC,YVK0B,WAAmC,IAAlChE,EAAiC,uDAAzBxD,EAAcyD,EAAW,uCAC5D,OAAQA,EAAOrD,MACX,KAAKV,EACL,KAAKC,EACD,OAAO,eAAI6D,EAAX,GAAqBC,EAAOpD,SAChC,KAAKT,EACD,OAAO,eACA4D,EADP,CAEI/D,QAAQ,eACD+D,EAAM/D,QADN,CAEHgI,OAAQhE,EAAOpE,SAG3B,KAAKQ,EACD,OAAO,eACA2D,EADP,CAEItD,SAAUuD,EAAOvD,WAEzB,KAAKJ,EACD,OAAO,eACA0D,EADP,CAEIvD,MAAM,GAAD,mBAAMuD,EAAMvD,OAAZ,gBAAuBwD,EAAOhD,UAE3C,KAAKV,EACD,OAAO,eACAyD,EADP,CAEIvD,MAAOuD,EAAMvD,MAAMyH,QAAO,SAAAC,GAAC,OAAIA,EAAEpG,KAAOkC,EAAOmE,YAEvD,QACI,OAAOpE,IUjCfqD,UHkBwB,WAAmC,IAAlCrD,EAAiC,uDAAzBxD,GAAcyD,EAAW,uCAC1D,OAAQA,EAAOrD,MACX,KAAKgF,GACD,OAAO,eACA5B,EADP,CAEIoC,MAAOpC,EAAMoC,MAAMiC,KAAI,SAAAC,GACnB,OAAIrE,EAAOxE,SAAW6I,EAAEvG,GACb,eAAIuG,EAAX,CAAcC,UAAU,IAErBD,OAGnB,KAAKzC,GACD,OAAO,eACA7B,EADP,CAEIoC,MAAOpC,EAAMoC,MAAMiC,KAAI,SAAAC,GACnB,OAAIrE,EAAOxE,SAAW6I,EAAEvG,GACb,eAAIuG,EAAX,CAAcC,UAAU,IAErBD,OAGnB,KAAKxC,GACD,OAAO,eACA9B,EADP,CAEIoC,MAAOnC,EAAOmC,QAEtB,KAAKH,GACD,OAAO,eACAjC,EADP,CAEI2C,cAAe1C,EAAO0C,gBAE9B,IA1DmB,mCA2Df,OAAO,eACA3C,EADP,CAEIqC,QAASpC,EAAOoC,UAExB,KAAKF,GACD,OAAO,eACAnC,EADP,CAEI2B,WAAY1B,EAAO0B,aAE3B,IA9DuB,uCA+DnB,OAAO,eACA3B,EADP,CAEIyC,gBAAiBzC,EAAMyC,iBAE/B,KAAKV,GACD,OAAO,eACA/B,EADP,CAEIyB,YAAaxB,EAAOwB,cAE5B,KAAKO,GACD,OAAO,eACAhC,EADP,CAEIsC,gBAAiBrC,EAAOqD,aAEhC,KAAKpB,GACD,OAAO,eACAlC,EADP,CAEIuC,WAAYtC,EAAOsC,aAE3B,IAnFoC,oDAoFhC,OAAO,eACAvC,EADP,CAEIwC,oBAAqBvC,EAAOuC,oBAAP,sBACXxC,EAAMwC,qBADK,CACgBvC,EAAOxE,SACtCuE,EAAMwC,oBAAoB0B,QAAO,SAAAnG,GAAE,OAAIA,IAAOkC,EAAOxE,YAEnE,QACI,OAAOuE,IGvFfwE,YDA0B,WAAmC,IAAlCxE,EAAiC,uDAAzBxD,GAAcyD,EAAW,uCAC5D,OAAQA,EAAOrD,MACX,KAAK4G,GACD,OAAO,eACAxD,EADP,CAEIqC,QAASrC,EAAMqC,QAAQgC,KAAI,SAAAC,GACvB,OAAIrE,EAAOyD,WAAaY,EAAEvG,GACf,eAAIuG,EAAX,CAAcC,UAAU,IAErBD,OAGnB,IAtBmB,mCAuBf,OAAO,eACAtE,EADP,CAEIqC,QAASpC,EAAOoC,UAExB,IA1BuB,uCA2BnB,OAAO,eACArC,EADP,CAEIyC,gBAAiBzC,EAAMyC,iBAE/B,QACI,OAAOzC,ICtBfW,YNY0B,WAAmC,IAAlCX,EAAiC,uDAAzBxD,GAAcyD,EAAW,uCAC5D,OAAQA,EAAOrD,MACX,KAAKmC,GACL,KAAKC,GACL,KAAKC,GACL,KAAKG,GACD,OAAOW,GAAOC,EAAOC,GACzB,KAAKnB,GACD,OAAO,eAAIkB,EAAX,CAAkBR,SAAS,GAAD,mBAAMQ,EAAMR,UAAZ,CAAsBS,EAAOwE,YAC3D,KAAKnF,GACD,OAAO,eACAU,EADP,CAEIP,QAASO,EAAMP,QAAQ4E,KAAI,SAAArD,GACvB,OAAIA,EAAEjD,KAAOkD,OAAOhB,EAAOxE,QAChB,eAAIuF,EAAX,CAAcZ,eAAgBH,EAAOG,iBAC3BY,OAG1B,KAAK3B,GACD,OAAO,eACAW,EADP,CACcP,QAAQ,CACdO,EAAMP,QAAQsB,MAAK,SAAAC,GAAC,OAAIA,EAAEjD,KAAOkD,OAAOhB,EAAOxE,YADlC,mBAEVuE,EAAMP,QAAQyE,QAAO,SAAAlD,GAAC,OAAIA,EAAEjD,KAAOkD,OAAOhB,EAAOxE,eAEhE,KAAKyD,GACD,OAAO,eAAIc,EAAX,CAAkBL,gBAAiBM,EAAON,kBAC9C,KAAKR,GACD,OAAO,eAAIa,EAAX,CAAkBJ,gBAAiBI,EAAMJ,iBAC7C,KAAKL,GACD,OAAO,eACAS,EADP,CAEIR,SAAUQ,EAAMR,SAAS0E,QAAO,SAAAQ,GAC5B,OAAOA,EAAE3G,KAAOkC,EAAOpB,eAGnC,QACI,OAAOmB,IM/Cf2E,KRDuB,WAAmC,IAAlC3E,EAAiC,uDAAzBxD,EAAcyD,EAAW,uCACzD,OAAQA,EAAOrD,MACX,KAAKiB,EACD,OAAO,eACAmC,EADP,GAEOC,EAAOpD,SAElB,KAAKiB,EACD,OAAO,eACAkC,EADP,CAEI9B,WAAY+B,EAAO1B,MAE3B,QACI,OAAOyB,IQXf4E,ILPsB,WAAmC,IAAlC5E,EAAiC,uDAAzBxD,GAAcyD,EAAW,uCACxD,OAAQA,EAAOrD,MACX,KAAKsE,GACD,OAAO,eACAlB,EADP,CAEImB,aAAa,IAErB,QACI,OAAOnB,MKEN6E,GAAQC,sBAAYlB,GAAUmB,8BAAoBC,0BAAgBC,O,mVCCzEC,GAAYC,cAAW,SAACC,GAAD,MAAY,CACrCC,KAAM,CACFC,SAAU,GAGdC,WAAY,CACRC,YAAaJ,EAAMK,QAAQ,IAE/BC,IAAI,cACAC,QAAS,QACRP,EAAMQ,YAAYC,GAAG,MAAQ,CAC1BF,QAAS,UAGjBG,eAAe,cACXH,QAAS,QACRP,EAAMQ,YAAYC,GAAG,MAAQ,CAC1BF,QAAS,OACTI,eAAgB,kBAGxBC,KAAM,CACFV,SAAU,EACVW,SAAU,KAEdC,cAAc,cACVP,QAAS,QAERP,EAAMQ,YAAYC,GAAG,MAAQ,CAC1BF,QAAS,aAMN,SAASQ,GAAOC,GAG3B,IAAMC,EAAUnB,KAHkB,EAKkBoB,IAAMC,SAAS,MALjC,oBAK3BC,EAL2B,KAKPC,EALO,KAO5BC,EAAmB7L,QAAQ2L,GAG3BG,EAAwB,WAC1BF,EAAsB,OAUpBG,EACF,kBAACC,GAAA,EAAD,CACIC,SAAUN,EACVO,aAAc,CAACC,SAAU,MAAOC,WAAY,SAC5ClJ,GALa,8BAMbmJ,aAAW,EACXC,gBAAiB,CAACH,SAAU,MAAOC,WAAY,SAC/CG,KAAMV,EACNW,QAASV,GACT,kBAACW,GAAA,EAAD,CAAUC,QAASZ,EAAuBa,QAAM,GAC5C,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAD,OAEJ,yBAAKC,UAAWC,KAAEC,MACd,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,KAAEI,YAA1C,aAGR,kBAACT,GAAA,EAAD,CAAUC,QAASZ,EAAuBa,QAAM,GAC5C,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAD,OAEJ,yBAAKC,UAAWC,KAAEC,MACd,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,KAAEI,YAA1C,aAGR,kBAACT,GAAA,EAAD,CAAUC,QAASZ,EAAuBa,QAAM,GAC5C,kBAACC,GAAA,EAAD,KACKrB,EAAMvG,iBAAmB,EACpB,kBAACmI,GAAA,EAAD,CAAOC,aAAc7B,EAAMvG,iBAAkBqI,MAAM,aACjD,kBAAC,KAAD,OACO,kBAAC,KAAD,OAEnB,yBAAKR,UAAWC,KAAEC,MACd,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,KAAEI,YAA1C,aAGR,kBAACT,GAAA,EAAD,CAAUC,QAASZ,EAAuBa,QAAM,GAC5C,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAD,OAEJ,yBAAKC,UAAWC,KAAEC,MACd,kBAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBH,KAAEI,YAAxC,WAGR,kBAACI,GAAA,EAAD,MACA,kBAACb,GAAA,EAAD,CAAUC,QAASZ,EAAuBa,QAAM,GAC5C,kBAACC,GAAA,EAAD,KACI,kBAAC,KAAD,OAEHrB,EAAMnI,QACP,yBAAKyJ,UAAWC,KAAEC,MACd,kBAAC,IAAD,CAASC,GAAI,SAAUC,gBAAiBH,KAAEI,WAAYR,QAASnB,EAAMgC,QAArE,aAOhB,OACI,yBAAKV,UAAWrB,EAAQhB,MACpB,kBAACgD,GAAA,EAAD,CAAQH,MAAM,WACV,kBAACI,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAYC,QAAS,MAArB,qBACA,yBAAKd,UAAWrB,EAAQhB,OACxB,kBAACoD,GAAA,EAAD,CAAMf,UAAWC,KAAEjC,KACf,yBAAKgC,UAAWC,KAAEC,MAClB,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,KAAEI,YAC1C,kBAACT,GAAA,EAAD,CAAUE,QAAM,GAAhB,aAGA,yBAAKE,UAAWC,KAAEC,MAClB,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,KAAEI,YAC1C,kBAACT,GAAA,EAAD,CAAUE,QAAM,GAAhB,aAGA,yBAAKE,UAAWC,KAAEC,MAClB,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,KAAEI,YAC1C,kBAACT,GAAA,EAAD,CAAUE,QAAM,GACPpB,EAAMvG,iBAAmB,EACpB,kBAACmI,GAAA,EAAD,CAAOC,aAAc7B,EAAMvG,iBAAkBqI,MAAM,aAAnD,WAGA,kDAId,yBAAKR,UAAWC,KAAEC,MAClB,kBAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBH,KAAEI,YACxC,kBAACT,GAAA,EAAD,CAAUE,QAAM,GAAhB,YAIJ,yBAAKE,UAAWrB,EAAQhB,OACxB,yBAAKqC,UAAS,UAAKrB,EAAQP,eAAb,YAA+B6B,KAAEC,OAC1CxB,EAAMnI,OACH,kBAAC,IAAD,CAAS4J,GAAG,SAASC,gBAAiBH,KAAEI,YACxC,kBAACT,GAAA,EAAD,CAAUE,QAAM,EAACD,QAASnB,EAAMgC,OAAQF,MAAM,WAC1C,yBAAKR,UAAWC,KAAEC,MAAlB,YAKF,IAEV,yBAAKF,UAAWrB,EAAQH,eACpB,kBAACwC,GAAA,EAAD,CACIC,aAAW,YACXC,gBA5GH,8BA6GGC,gBAAc,OACdtB,QAnHK,SAACuB,GAC1BrC,EAAsBqC,EAAMC,gBAmHRb,MAAM,WAEN,kBAAC,KAAD,UAKftB,G,IC5LPoC,G,2KAGE,OACI,kBAAC7C,GAAW8C,KAAK7C,W,GAJCE,IAAM4C,WAkBrBC,qBACXC,aAVoB,SAACpJ,GACrB,MAAO,CACH/B,OAAQ+B,EAAM2E,KAAK1G,OACnBD,MAAOgC,EAAM2E,KAAK3G,MAClB6B,iBAAkBG,EAAMW,YAAYd,oBAMf,CAACuI,OVyCR,yDAAM,WAAOjL,GAAP,SAAAC,EAAA,sEACHG,IADG,OAES,IAFT,OAEXD,KAAKe,YACdlB,EAASgB,EAAgB,KAAM,KAAM,MAAM,IAHvB,2CAAN,yDU1CPgL,CAEbH,I,oBC3BWK,GAAW,SAAAC,GACpB,IAAIA,EACJ,MAAO,qBAUEC,GAAW,SAAAC,GACpB,IAAMC,EAAS,GAiBf,MAhBuB,CACnB,QACA,WACA,cAEWC,SAAQ,SAAAC,GACdH,EAAOG,KACRF,EAAOE,GAAS,eAIpBH,EAAOxL,QACN,4CAA4C4L,KAAKJ,EAAOxL,SAEzDyL,EAAOzL,MAAQ,yBAEZyL,G,4DCxBLI,GAAc,SAAC,GAA4B,EAA3BC,MAA4B,IAArBC,EAAoB,EAApBA,KAAS3D,EAAW,iCACvC4D,EAAWD,EAAKE,SAAWF,EAAKG,MACtC,OACI,yBAAKxC,UAAS,UAAKyC,KAAMC,YAAX,YAA0BJ,EAAWG,KAAMD,MAAQ,KAC7D,6BACK9D,EAAMiE,UAEVL,GAAY,8BAAOD,EAAKG,SAKxBI,GAAW,SAAClE,GAAW,IACzB0D,EAA6B1D,EAA7B0D,MAAgBS,GAAanE,EAAtB2D,KADiB,aACK3D,EADL,mBAE/B,OAAO,kBAAC,GAAgBA,EAEpB,8CAAc0D,EAAWS,MAQpBC,GAAkB,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAOX,EAAT,EAASA,MAAT,IAAgBC,KAAOE,EAAvB,EAAuBA,QAASS,EAAhC,EAAgCA,QAASR,EAAzC,EAAyCA,MAAWS,EAApD,gDAC3B,kBAACC,GAAA,EAAD,eACIlD,UAAWyC,KAAMU,UACjB3C,MAAM,YACNuC,MAAOA,EACPK,YAAaL,EACbP,MAAOD,GAAWS,EAClBK,WAAYd,GAAWC,GACnBJ,EACAa,KAGCK,GAAmB,SAAC,GAAD,IAAEP,EAAF,EAAEA,MAAOX,EAAT,EAASA,MAAT,IAAgBC,KAAOE,EAAvB,EAAuBA,QAASS,EAAhC,EAAgCA,QAASR,EAAzC,EAAyCA,MAAWS,EAApD,gDAC5B,kBAACC,GAAA,EAAD,eACI1C,MAAM,YACNuC,MAAOA,EACPK,YAAaL,EACbP,MAAOD,GAAWS,EAClBK,WAAYd,GAAWC,GACnBJ,EACAa,KAGCM,GAAiB,SAAC,GAAD,IAAEnB,EAAF,EAAEA,MAAOW,EAAT,EAASA,MAAT,OAC1B,6BACI,kBAACS,GAAA,EAAD,CACIC,QACI,kBAACC,GAAA,EAAD,CACIlD,MAAO,UACPmD,UAASvB,EAAMR,MACfgC,SAAUxB,EAAMwB,WAExBb,MAAOA,MC3BJc,gBAAU,CACrBzH,KAAM,QACNyF,aAFWgC,EA5BG,SAAAnF,GAAU,IAChBoF,EAAiBpF,EAAjBoF,aACR,OACI,0BAAMC,SAAUD,GACZ,6BACI,kBAACE,GAAA,EAAD,CAAOC,KAAK,QAAQC,UAAWZ,GAAkBP,MAAM,WAE3D,6BACI,kBAACiB,GAAA,EAAD,CAAO9O,KAAK,WAAW+O,KAAK,WAAWC,UAAWZ,GAAkBP,MAAM,cAE9E,8BACCrE,EAAMlI,YAAc,6BACjB,yBAAK2N,IAAI,GAAGC,IAAK1F,EAAMlI,aACvB,kBAACwN,GAAA,EAAD,CACI9O,KAAK,OACLkO,YAAY,qBACZc,UAAWZ,GACXW,KAAM,UACNpC,SAAUF,MAGlB,yBAAKc,MAAO,CAAC4B,OAAO,SAChB,4BAAQnP,KAAK,UAAb,c,qBCChB,IHxBiCoP,GG8BlB5C,gBANS,SAACpJ,GAAD,MAAY,CAChC/B,OAAQ+B,EAAM2E,KAAK1G,OACnBC,WAAY8B,EAAM2E,KAAKzG,cAIa,CAACF,MdcpB,SAACR,EAAOC,EAAUC,EAAYC,GAA9B,8CAA0C,WAAOR,GAAP,iBAAAC,EAAA,sEACtCG,EAAcC,EAAOC,EAAUC,EAAYC,GADL,OAE1B,KAD7BN,EADuD,QAE9CC,KAAKe,WACdlB,EAASiB,MAEwB,KAA7Bf,EAASC,KAAKe,YACdlB,EAASmB,KAETkB,EAAWnC,EAASC,KAAKkC,SAASyM,OAAS,EAAI5O,EAASC,KAAKkC,SAAS,GAAK,aAC/ErC,EAAS+O,YAAW,QAAS,CAACC,OAAQ3M,MATiB,2CAA1C,wDcdN4J,EA5Bf,SAAehD,GAMX,OAAIA,EAAMnI,OACC,kBAAC,KAAD,CAAU4J,GAAI,aAIrB,yBAAKH,UAAWC,KAAEyE,MACd,6CACA,uCAAY,uDACZ,0CAAe,yCAEf,qCACA,kBAAC,GAAD,CAAWlO,WAAYkI,EAAMlI,WAAYuN,SAfhC,SAAC3P,GACdsK,EAAMpI,MAAMlC,EAASkC,MAAOlC,EAAS2B,SAAU3B,EAAS4B,WAAY5B,EAAS6B,gB,mDCoDtE0O,GAFcd,aAAU,CAACzH,KAAM,eAAjByH,EAvDL,SAACnF,GAUrB,OAAO,0BAAMqF,SAAUrF,EAAMoF,cACzB,2BAAO5O,KAAM,OAAQ0O,SARG,SAACgB,GACrBA,EAAEC,OAAOC,MAAMP,QACf7F,EAAMqG,UAAUH,EAAEC,OAAOC,MAAM,OAOnC,6BACI,kBAACd,GAAA,EAAD,CAAOC,KAAK,WAAWC,UAAWpB,GAAiBC,MAAM,eAE7D,6BACI,uCADJ,IAEI,kBAACiB,GAAA,EAAD,CACI9O,KAAK,OACLkO,YAAY,WACZc,UAAWtB,GACXqB,KAAM,aAEd,6BACI,kBAACD,GAAA,EAAD,CAAO9O,KAAK,WAAW+O,KAAK,iBAAiBC,UAAWX,GAAgBR,MAAM,uBAElF,6BACI,qDADJ,KAEI,kBAACiB,GAAA,EAAD,CACI9O,KAAK,OACLkO,YAAY,YACZc,UAAWtB,GACXqB,KAAM,+BAEd,6BACI,uCADJ,IACqBe,OAAOC,KAAKvG,EAAMnK,QAAQ2Q,UAAUvI,KAAI,SAAAwI,GACzD,OAAO,yBAAKA,IAAKA,GACb,kBAACnB,GAAA,EAAD,CACI9O,KAAK,OACL+O,KAAM,YAAckB,EACpBjB,UAAWpB,GACXC,MAAOoC,SAIlBzG,EAAM8D,OAAS,yBAAKxC,UAAWC,KAAEmF,kBAC7B1G,EAAM8D,OAEX,6BACI,kBAAC6C,GAAA,EAAD,CAAQ7E,MAAM,YAAYtL,KAAK,UAA/B,QACA,kBAACmQ,GAAA,EAAD,CAAQ7E,MAAM,YAAYX,QAASnB,EAAM4G,gBAAzC,e,4BC3CCC,GAAU,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aAsBnC,MApBqB,KAAjBA,IACqB,aAAjBD,EACAA,EAAe,kBAAC,KAAD,CAAiBE,KAAMC,KAAYC,KAAK,OAC/B,YAAjBJ,EACPA,EAAe,kBAAC,KAAD,CAAiBE,KAAMG,KAAWD,KAAK,OAC9B,YAAjBJ,EACPA,EAAe,kBAAC,KAAD,CAAiBE,KAAMI,KAAgBF,KAAK,OACnC,cAAjBJ,EACPA,EAAe,kBAAC,KAAD,CAAiBE,KAAMK,KAAaH,KAAK,OAChC,YAAjBJ,EACPA,EAAe,kBAAC,KAAD,CAAiBE,KAAMM,KAAWJ,KAAK,OAC9B,WAAjBJ,EACPA,EAAe,kBAAC,KAAD,CAAiBE,KAAMO,KAAUL,KAAK,QAC7B,OAAjBJ,GAEiB,aAAjBA,KADPA,EAAe,kBAAC,KAAD,CAAiBE,KAAMQ,KAAcN,KAAK,SAM1D,uBAAGO,KAAI,UAAOV,GAAiBzF,UAAWC,KAAE3B,MACzB,KAAjBmH,GAAuBD,IChCvBY,GAAc,SAAC1H,GACxB,OAAO,6BACH,6BACI,6BACI,2CAAoBA,EAAMnK,QAAQ8R,UAEtC,6BACI,mDACC3H,EAAMnK,QAAQ+R,eAAiB,MAAQ,MAE3C5H,EAAMnK,QAAQ+R,gBAAkB,6BAC7B,sDAD6B,IACG5H,EAAMnK,QAAQgS,2BAElD,6BACI,0CAAmB7H,EAAMnK,QAAQiS,SAErC,6BACI,6BAAK,2CAAyBxB,OAAOC,KAAKvG,EAAMnK,QAAQ2Q,UACvD1I,QAAO,SAAA2I,GAAG,OAAIzG,EAAMnK,QAAQ2Q,SAASC,MACrCxI,KAAI,SAAAwI,GACD,OAAO,kBAAC,GAAD,CACHA,IAAKA,EACLK,aAAcL,EACdM,aAAc/G,EAAMnK,QAAQ2Q,SAASC,UAIpDzG,EAAM+H,SAAW,kBAACpB,GAAA,EAAD,CAAQ7E,MAAM,YAAYX,QAASnB,EAAMgI,cAAzC,UCzBpBC,G,+MACFrO,MAAQ,CACJtD,UAAU,EACVf,OAAQ,EAAKyK,MAAMzK,Q,EAWvB2S,iBAAmB,WACf,EAAKC,SAAS,CACV7R,UAAU,K,EAIlB8R,mBAAqB,WACjB,EAAKD,SAAS,CACV7R,UAAU,IAEd,EAAK0J,MAAMqI,aAAa,EAAKzO,MAAMrE,S,EAEvC+S,WAAa,SAACpC,GACI,UAAVA,EAAEO,KACF,EAAK2B,sB,EAGbG,eAAiB,SAACrC,GACd,EAAKiC,SAAS,CACV5S,OAAQ2Q,EAAEvD,cAAcO,S,kEA3BbsF,EAAWC,EAAWC,GACjCF,EAAUjT,SAAWsN,KAAK7C,MAAMzK,QAChCsN,KAAKsF,SAAS,CACV5S,OAAQsN,KAAK7C,MAAMzK,W,+BA6B3B,OACI,oCACMsN,KAAKjJ,MAAMtD,SAOP,uCAEE,yBAAKyN,MAAO,CAAC4B,OAAO,SAChB,kBAACL,GAAA,EAAD,CACIC,KAAK,SACLC,UAAWpB,GACXC,MAAM,SACNsE,WAAY9F,KAAKyF,WACjBM,OAAQ/F,KAAKuF,mBACbS,WAAW,EACX3F,MAAOL,KAAKjJ,MAAMrE,OAClB2P,SAAUrC,KAAK0F,mBAjBzB,yBAAKxE,MAAO,CAAC4B,OAAO,SAClB,0BACImD,cAAejG,KAAKqF,kBACpB,wCAFJ,IAEsBrF,KAAK7C,MAAMzK,QAAU,mB,GA5CvC2K,IAAM4C,WA0EnBqC,gBAAU,CACrBzH,KAAM,gBACNyF,aAFWgC,CAGZ8C,I,wECzDYc,GAlBF,SAAC/I,GACV,OACI,kBAAC,IAAMgJ,SAAP,KACI,kBAAC9H,GAAA,EAAD,CAAUE,QAAM,GACZ,kBAAC6H,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAQzD,IAAI,GAAGC,IAAK1F,EAAMmJ,SAE9B,kBAACC,GAAA,EAAD,CAAcC,QAASrJ,EAAM2H,SAAU2B,UAAWtJ,EAAMnJ,KAAKwH,UAC7D,kBAACiE,GAAA,EAAD,CAAYiH,KAAK,MAAMhH,aAAW,SAASpB,QAAS,WAChDnB,EAAMwJ,WAAWxJ,EAAMnJ,KAAKc,MAE5B,kBAAC,KAAD,UCXhB8R,ITF6B7D,GSEE,ITFY,SAAC1C,GAC5C,GAAIA,EAAM2C,OAAS,GAAI,MAAM,iBAAN,OAAwBD,GAAxB,cSgB3B,IAAI8D,GAAsBvE,aAAU,CAACzH,KAAM,yBAAjByH,EAb1B,SAAoBnF,GAChB,OAAO,0BAAMqF,SAAUrF,EAAMoF,cACzB,kBAACE,GAAA,EAAD,CACInC,SAAU,CAACF,GAAUwG,IACrBjE,UAAWtB,GACXqB,KAAM,cACNb,YAAY,oBAChB,6BACI,kBAACiC,GAAA,EAAD,CAAQ7E,MAAM,YAAYtL,KAAK,UAA/B,iBAqCGmT,GA9BAzJ,IAAM0J,MAAK,SAAC5J,GAGvB,IAAI6J,EAAe7J,EAAM3J,MAAM4H,KAAI,SAACF,GAAD,OAC/B,kBAAC,GAAD,CACIyL,WAAYxJ,EAAMwJ,WAClB7B,SAAU3H,EAAM2H,SAChBwB,MAAOnJ,EAAMmJ,MACb1C,IAAK1I,EAAEpG,GACPd,KAAMkH,OASd,OACI,yBAAKuD,UAAWC,KAAEuI,WACd,uCACA,kBAACJ,GAAD,CACIrE,SATE,SAACjC,GACXpD,EAAM+J,QAAQ3G,EAAO4G,gBASjB,yBAAK1I,UAAWC,KAAElL,OACbwT,OChCFI,GAFSjH,aAVF,SAACpJ,GACnB,MAAO,CACHvD,MAAOuD,EAAMgE,YAAYvH,MACzB2T,YAAapQ,EAAMgE,YAAYoM,YAC/Bb,MAAOvP,EAAMgE,YAAY/H,QAAQgI,OAAOqM,MACxCvC,SAAU/N,EAAMgE,YAAY/H,QAAQ8R,SACpC9R,QAAS+D,EAAMgE,YAAY/H,WAIc,CAACkU,QvBmD3B,SAACC,GAAD,8CAAiB,WAAOjT,GAAP,eAAAC,EAAA,sDAChCH,EAAO,CACPc,GAAIwS,KAAKC,MAAsB,IAAhBD,KAAKE,UACpBhM,QAAS2L,EACTM,WAAY,KAEhBvT,EAASH,EAAeC,IACxBE,EAASwT,YAAM,0BAPqB,2CAAjB,uDuBnDoCf,WvB2CjC,SAACxL,GAAD,MAAa,CAACxH,KAAML,EAAa6H,YuB3CnCgF,CAAgD2G,I,oBCVlE7K,GAAYC,cAAW,SAACC,GAAD,MAAY,CACrCwL,SAAU,CACNC,OAAQzL,EAAMyL,OAAOC,OAAS,EAC9B5I,MAAO,YAeA6I,OAXf,SAAuB3K,GAEnB,IAAMC,EAAUnB,KAEhB,OACI,kBAAC8L,GAAA,EAAD,CAAUtJ,UAAWrB,EAAQuK,SAAUxJ,MAAM,GACzC,kBAAC6J,GAAA,EAAD,CAAkB/I,MAAM,cCTvBgJ,GAAU,SAAC9K,GAWpB,OAAKA,EAAMnK,QAKP,6BACI,6BACI,yBACI4P,IAAI,GACJC,IAAmC,MAA9B1F,EAAMnK,QAAQgI,OAAOqM,MAAgBlK,EAAMnK,QAAQgI,OAAOqM,MAAQa,QAE/E,6BACI,kBAAC,GAAD,CACIxV,OAAQyK,EAAMzK,OACd8S,aAAcrI,EAAMqI,eAEvBrI,EAAM1J,SACD,kBAAC,GAAD,CACE0U,cAAehL,EAAMnK,QACrBA,QAASmK,EAAMnK,QACfwP,SA7BH,SAAC3P,GACdsK,EAAMiL,YAAYvV,IA6BFkR,eAzBG,WACnB5G,EAAMrJ,aAAY,IAyBF0P,UAAWrG,EAAMqG,YACnB,kBAAC,GAAD,CACExQ,QAASmK,EAAMnK,QACfkS,QAAS/H,EAAM+H,QACfC,aAAc,WACVhI,EAAMrJ,aAAY,OAGjCqJ,EAAM+H,SACP,kBAAC,GAAD,OA9BG,kBAAC,GAAD,OCjBXmD,GAA0B,SAACtR,GAAD,MAAY,CACtC/B,OAAQ+B,EAAM2E,KAAK1G,SAEVsT,GAAmB,SAACrI,GAAe,IACtCsI,EADqC,2KAGnC,OAAKvI,KAAK7C,MAAMnI,OACT,kBAACiL,EAAcD,KAAK7C,OADI,kBAAC,KAAD,CAAUyB,GAAI,eAHV,GACXvB,IAAM4C,WAStC,OAFqCE,YAAQkI,GAARlI,CAAiCoI,ICCpEC,G,+MAEFC,eAAiB,WACb,IAAIjW,EAAS,EAAK2K,MAAMnL,MAAM0W,OAAOlW,OAChCA,IACDA,EAAS,EAAK2K,MAAMwL,mBAEhB,EAAKxL,MAAMyL,QAAQC,KAAK,UAGhC,EAAK1L,MAAMlJ,gBAAgBzB,GAC3B,EAAK2K,MAAM2L,UAAUtW,I,mEAKrBwN,KAAKyI,mB,yCAIU9C,EAAWC,EAAWC,GACjC7F,KAAK7C,MAAMnL,MAAM0W,OAAOlW,SAAWmT,EAAU3T,MAAM0W,OAAOlW,QAC1DwN,KAAKyI,mB,+BAMT,OAAO,kBAAC,GAAD,iBACCzI,KAAK7C,MADN,CAEHnK,QAASgN,KAAK7C,MAAMnK,QACpBkS,SAAUlF,KAAK7C,MAAMnL,MAAM0W,OAAOlW,c,GA/Bf6K,IAAM4C,WA8CtBC,qBACXC,aAZoB,SAACpJ,GACrB,MAAO,CACH/D,QAAS+D,EAAMgE,YAAY/H,QAC3BN,OAAQqE,EAAMgE,YAAYrI,OAC1Be,SAAUsD,EAAMgE,YAAYtH,SAC5BkV,iBAAkB5R,EAAM2E,KAAK5G,GAC7BE,OAAQ+B,EAAM2E,KAAK1G,UAME,CAACf,kBAAiBH,cAAagV,U3BcnC,SAACtW,GAAD,8CAAY,WAAO0B,GAAP,eAAAC,EAAA,sEACZ5B,EAAqBC,GADT,OAC7B4B,EAD6B,OAEjCF,EAASR,EAAiBU,EAASC,OAFF,2CAAZ,uD2Bd8CmR,a3BmB3C,SAAC9S,GAAD,8CAAY,WAAOwB,GAAP,SAAAC,EAAA,sEACf5B,EAAwBG,GADT,OAEH,IAFG,OAEvB2B,KAAKe,YACdlB,EAASR,EAAiBhB,IAHM,2CAAZ,uD2BnByD8Q,U3ByB5D,SAAC5Q,GAAD,8CAAU,WAAOsB,GAAP,eAAAC,EAAA,sEACV5B,EAAqBK,GADX,OAEE,KAD7BwB,EAD2B,QAElBC,KAAKe,YACdlB,EAASL,EAAiBO,EAASC,KAAKA,KAAK2G,SAHlB,2CAAV,uD2BzBuEoN,Y3BgCrE,SAACpV,GAAD,8CAAa,WAAOkB,EAAUuD,GAAjB,mBAAAtD,EAAA,6DAC9B3B,EAASiF,IAAWiE,KAAK5G,GADK,SAEfvC,EAAuBS,GAFR,UAGH,KAD7BoB,EAFgC,QAGvBC,KAAKe,WAHkB,gBAIhClB,EAASD,EAAgBzB,IACzB0B,EAASJ,GAAY,IALW,8BAO5ByC,EAAWnC,EAASC,KAAKkC,SAASyM,OAAS,EAAI5O,EAASC,KAAKkC,SAAS,GAAK,aAC/ErC,EAAS+O,YAAW,cAAe,CAACC,OAAQ3M,KARZ,kBASzB8B,QAAQ0Q,OAAOxS,IATU,4CAAb,2D2B/BvByS,KACAV,GAHWpI,CAIbsI,ICxCaS,GAFS3G,aAAU,CAACzH,KAAM,UAAjByH,EAlBE,SAACnF,GAGvB,OACI,0BAAMqF,SAAUrF,EAAMoF,cAClB,6BACI,kBAACE,GAAA,EAAD,CAAO9O,KAAK,OAAO+O,KAAK,SAASC,UAAWpB,GAAiBC,MAAM,gBAEvE,yBAAKN,MAAO,CAACgI,SAAU,SAAvB,gQAGA,6BACI,kBAACpF,GAAA,EAAD,CAAS7E,MAAM,YAAYtL,KAAK,UAAhC,eCJDwV,GAVO,SAAChM,GAMnB,OAAO,kBAAC,GAAD,CAAiBqF,SAJP,SAAC3P,GACdsK,EAAMzE,WAAW7F,EAASuW,YC6CnBC,OAjDf,SAAmBlM,GAKf,IAHA,IAAImM,EAAahC,KAAKiC,KAAKpM,EAAM9D,gBAAkB8D,EAAM1E,UAErD+Q,EAAQ,GACHC,EAAI,EAAGA,GAAKH,EAAYG,IAC7BD,EAAMX,KAAKY,GAGf,IAAIC,EAAepC,KAAKiC,KAAKD,EAAanM,EAAM1D,aAC5CkQ,GAAyBxM,EAAMzD,cAAgB,GAAKyD,EAAM1D,YAAc,EACxEmQ,EAAyBzM,EAAMzD,cAAgByD,EAAM1D,YAczD,OACI,6BACK0D,EAAMzD,cAAgB,GACvB,oCACI,kBAACoK,GAAA,EAAD,CAAQ7E,MAAM,YAAYX,QATjB,WACjBnB,EAAM0M,aAAa,KAQX,SACA,kBAAC/F,GAAA,EAAD,CAAQ7E,MAAM,YAAYX,QAdhB,WAClBnB,EAAM2M,YAAY3M,EAAMzD,cAAgB,KAahC,SAGH8P,EACIvO,QAAO,SAAAC,GAAC,OAAIA,GAAKyO,GAAyBzO,GAAK0O,KAC/CxO,KAAI,SAACF,GACF,OAAO,kBAAC4I,GAAA,EAAD,CACHF,IAAK1I,EACLoD,QAAS,SAAC+E,GACNlG,EAAM4M,cAAc7O,KACpBA,MAEfwO,EAAevM,EAAMzD,eACtB,kBAACoK,GAAA,EAAD,CAAQ7E,MAAM,YAAYX,QA9BZ,WAClBnB,EAAM6M,YAAY7M,EAAMzD,cAAgB,KA6BpC,U,8DCpCNuC,GAAYC,cAAW,SAACC,GAAD,MAAY,CACrCY,KAAM,CACFkN,SAAU,QACVC,OAAQ/N,EAAMK,QAAQ,GACtB2N,MAAOhO,EAAMK,QAAQ,QAI7B,SAAS4N,GAAUjN,GACf,IAAMC,EAAUnB,KACTmF,EAAoBjE,EAApBiE,SAAUvP,EAAUsL,EAAVtL,OAEXwY,EAAUC,aAAiB,CAC7BhH,OAAQzR,EAASA,SAAW0Y,EAC5BC,mBAAmB,EACnBC,UAAW,MAUf,OACI,kBAACC,GAAA,EAAD,CAAMC,GAAIN,GACN,yBAAK/L,QATO,SAACuB,GACjB,IAAM+K,GAAU/K,EAAMyD,OAAOuH,eAAiBC,UAAUC,cAAc,uBAClEH,GACAA,EAAOI,eAAe,CAACC,SAAU,SAAUC,MAAO,YAMvBzM,UAAWrB,EAAQL,MACzCqE,IAMjB,IA0Ce+J,GA1CF,SAAChO,GAEV,IAAMiO,EAAO,YAAcjO,EAAMkO,KAAKvW,GAEtC,OAAQ,oCACA,yBAAK2J,UAAWyC,KAAMnE,MAClB,kBAAC,IAAD,CAAS6B,GAAIwM,GACT,yBACIxI,IAAI,GACJC,IAAgC,MAA3B1F,EAAMkO,KAAKrQ,OAAOsQ,MACjBnO,EAAMkO,KAAKrQ,OAAOsQ,MAAQpD,KAChCzJ,UAAWyC,KAAMqK,MACrB,6BAAMpO,EAAMkO,KAAK3I,OAErB,6BACKvF,EAAMkO,KAAK/P,SACN,kBAACmE,GAAA,EAAD,CACEC,aAAW,WACX8L,SAAUrO,EAAM5D,oBACXkS,MAAK,SAAA3W,GAAE,OAAIA,IAAOqI,EAAMkO,KAAKvW,MAClCwJ,QAAS,WACLnB,EAAMuO,SAASvO,EAAMkO,KAAKvW,MALhC,eAOA,kBAAC2K,GAAA,EAAD,CACEC,aAAW,SACX8L,SAAUrO,EAAM5D,oBACXkS,MAAK,SAAA3W,GAAE,OAAIA,IAAOqI,EAAMkO,KAAKvW,MAClCwJ,QAAS,WACLnB,EAAMwO,OAAOxO,EAAMkO,KAAKvW,MAL9B,eASd,kBAACsV,GAAcjN,EACX,kBAACsC,GAAA,EAAD,CAAYyB,MAAO,CAAC0K,OAAQ,WAAY3M,MAAO,aAC3C,kBAAC,KAAD,UCvEP4M,GAAQ,SAAC1O,GAClB,OACI,6BACI,wBAAIrI,GAAG,sBAAP,UACA,kBAAC,GAAD,CAAQ4D,WAAYyE,EAAMzE,aAC1B,kBAAC,GAAD,CACIsR,YAAa7M,EAAM6M,YACnBF,YAAa3M,EAAM2M,YACnBD,aAAc1M,EAAM0M,aACpBpQ,YAAa0D,EAAM1D,YACnBC,cAAeyD,EAAMzD,cACrBlB,YAAa2E,EAAM3E,YACnBa,gBAAiB8D,EAAM9D,gBACvBZ,SAAU0E,EAAM1E,SAChBsR,cAAe5M,EAAM4M,gBACxB5M,EAAM7D,WAAa,kBAAC,GAAD,MAChB,6BACK6D,EAAMhE,MAAMiC,KAAI,SAAAC,GACT,OAAO,kBAAC,GAAD,eAAMuI,IAAKvI,EAAEvG,GACPuW,KAAMhQ,GACF8B,U,UCtBhC2O,GAAmBC,cAHf,SAAChV,GACd,OAAOA,EAAMqD,UAAUjB,SAGvB,SAACA,GACG,OAAOA,EAAM8B,QAAO,SAAAI,GAAC,OAAI,QAGpB2Q,GAAc,SAACjV,GACxB,OAAOA,EAAMqD,UAAU3B,UAEdwT,GAAqB,SAAClV,GAC/B,OAAOA,EAAMqD,UAAUf,iBAEd6S,GAAiB,SAACnV,GAC3B,OAAOA,EAAMqD,UAAU5B,aAEd2T,GAAgB,SAACpV,GAC1B,OAAOA,EAAMqD,UAAUd,YAEd8S,GAAyB,SAACrV,GACnC,OAAOA,EAAMqD,UAAUb,qBAEd8S,GAAiB,SAACtV,GAC3B,OAAOA,EAAMqD,UAAUX,aAEd6S,GAAmB,SAACvV,GAC7B,OAAOA,EAAMqD,UAAUV,eCRrB6S,G,+MAMFxC,cAAgB,SAAC5P,GACb,EAAKgD,MAAMjD,SAASC,I,EAGxB6P,YAAc,SAACtQ,GACX,EAAKyD,MAAMtD,iBAAiBH,I,EAGhCoQ,YAAc,SAACpQ,GACX,EAAKyD,MAAMtD,iBAAiBH,I,EAGhCmQ,aAAe,SAACnQ,GACZ,EAAKyD,MAAMtD,iBAAiBH,I,mEAhB5BsG,KAAK7C,MAAMjD,SAAS8F,KAAK7C,MAAM3E,e,6CAoB/BwH,KAAK7C,MAAMrD,qBAAqB,M,+BAKhC,OAAO,kBAAC,GAAD,iBAAUkG,KAAK7C,MAAf,CACM6M,YAAahK,KAAKgK,YAClBF,YAAa9J,KAAK8J,YAClBD,aAAc7J,KAAK6J,aACnBE,cAAe/J,KAAK+J,qB,GAhCZ1M,IAAM4C,WAiDpBC,qBACXoI,GACAnI,aAfoB,SAACpJ,GACrB,MAAO,CACHoC,MAAO2S,GAAiB/U,GACxB0B,SAAUuT,GAAYjV,GACtBsC,gBAAiB4S,GAAmBlV,GACpCyB,YAAa0T,GAAenV,GAC5BuC,WAAY6S,GAAcpV,GAC1BwC,oBAAqB6S,GAAuBrV,GAC5C0C,YAAa4S,GAAetV,GAC5B2C,cAAe4S,GAAiBvV,MAMX,CACrB4C,iBACAC,mBACAK,2BACAC,YACAyR,O3BiEc,SAACnZ,GAAD,8CAAY,WAAO0B,GAAP,SAAAC,EAAA,6DAC9BD,EAAS+F,IAAwB,EAAMzH,IADT,SAET+F,GAAgB/F,GAFP,OAGG,IAHH,OAGjB6B,KAAKe,YACdlB,EAASyF,GAAcnH,IAE3B0B,EAAS+F,IAAwB,EAAOzH,IANV,2CAAZ,uD2BhEdkZ,S3ByEgB,SAAClZ,GAAD,8CAAY,WAAO0B,GAAP,SAAAC,EAAA,6DAChCD,EAAS+F,IAAwB,EAAMzH,IADP,SAEX+F,GAAkB/F,GAFP,OAGC,IAHD,OAGnB6B,KAAKe,YACdlB,EAAS0F,GAAgBpH,IAE7B0B,EAAS+F,IAAwB,EAAOzH,IANR,2CAAZ,uD2BxEhBsH,wBACApB,W3BqDkB,SAACA,GAAD,8CAAgB,WAAOxE,EAAUuD,GAAjB,eAAAtD,EAAA,sDACtCD,EAAS4F,GAAqBpB,IAC9BxE,EAAS6F,GAAe,IACxB7F,EAAS2F,GAAiB,IACnBrB,EAAef,IAAW2C,UAA1B5B,YACPtE,EAASgG,GAAS1B,IALoB,2CAAhB,yD2BpDlBqB,sBAXOqG,CAabqM,I,yCC3CaC,GAhCK,SAACrP,GAEjB,IAAMiO,EAAO,YAAcjO,EAAMsP,OAAO3X,GAGxC,OAAQ,oCACJ,yBAAK2J,UAAWyC,KAAMnE,MAClB,kBAAC,IAAD,CAAS6B,GAAIwM,EAAMvM,gBAAiBqC,KAAMpC,YAC1B,yBACI8D,IAAI,GACJC,IAAkC,MAA7B1F,EAAMsP,OAAOzR,OAAOsQ,MACnBnO,EAAMsP,OAAOzR,OAAOsQ,MAAQpD,KAClCzJ,UAAWyC,KAAMqK,MACjC,6BAAMpO,EAAMsP,OAAO/J,OAEvB,yBAAKjE,UAAWyC,KAAMiD,MAClB,kBAAC1E,GAAA,EAAD,CAAYC,aAAW,UAAUpB,QAAS,WACtCnB,EAAMuP,YAAYvP,EAAMsP,OAAO3X,MAE/B,kBAAC,KAAD,OAEJ,kBAAC2K,GAAA,EAAD,CAAYC,aAAW,SAASpB,QAAS,WACrCnB,EAAMwP,eAAexP,EAAMsP,OAAO3X,MADtC,mBCvBH8X,GAAU,SAACzP,GAEpB,IAAI0P,EAAiB1P,EAAM/D,QAAQgC,KAAI,SAAA0R,GACnC,OAAO,kBAAC,GAAD,eACHlJ,IAAKkJ,EAAEhY,GACP2X,OAAQK,GACJ3P,OAGZ,OACI,yBAAKsB,UAAWC,KAAEyE,MACd,wCACChG,EAAM3D,eAAiB,kBAAC,GAAD,MAAmB,yBAAKiF,UAAWC,KAAE+N,QACxDI,KCoBFvE,OA/BU,SAAAnL,GAGrB,IAAM/D,EAAU2T,aAAY,SAAAhW,GAAK,OAAIA,EAAMwE,YAAYnC,WACjDI,EAAiBuT,aAAY,SAAAhW,GAAK,OAAIA,EAAMwE,YAAY/B,kBAExDtF,EAAW8Y,cAOXL,EAAiBtP,IAAM4P,aAAY,SAACxS,GACtCvG,E5BmCoB,SAACuG,GAAD,8CAAc,WAAOvG,GAAP,SAAAC,EAAA,sEACjBoE,GAAkBkC,GADD,OAEL,IAFK,OAEzBpG,KAAKe,aACdlB,EAASsG,GAAcC,IACvBvG,EAASwG,OAJyB,2CAAd,sD4BnCXwS,CAAazS,MACvB,CAACvG,IAOJ,OAJAiZ,qBAAU,WACNjZ,EAASwG,QACV,CAACxG,IAEG,kBAAC,GAAD,CACHyY,eAAgBA,EAChBD,YAhBgB,SAACU,GACjBlZ,EAAS2D,GAAauV,KAgBtBhU,QAASA,EACTI,eAAgBA,O,kFCUT6T,GAlCI,SAAClQ,GAEhB,IAAMiO,EAAO,YAAcjO,EAAM3G,QAAQ1B,GAQzC,OACI,kBAAC0K,GAAA,EAAD,CAAMlB,QAASnB,EAAMmQ,kBAAmB7O,UAAWC,KAAE6O,cACjD,kBAAC,IAAD,CAAS3O,GAAIwM,EAAMvM,gBAAiBH,KAAEI,YAClC,kBAACT,GAAA,EAAD,CAAUE,QAAM,EAACD,QARN,WACnBnB,EAAMvF,YAAYuF,EAAM3G,QAAQ1B,MAQpB,kBAAC0J,GAAA,EAAD,KACI,yBACIoE,IAAI,GACJC,IAAmC,MAA9B1F,EAAM3G,QAAQwE,OAAOsQ,MAAgBnO,EAAM3G,QAAQwE,OAAOsQ,MAAQpD,KACvEzJ,UAAWC,KAAE6M,OAErB,6BACKpO,EAAM3G,QAAQW,eAAiB,EAC1B,kBAAC4H,GAAA,EAAD,CAAOE,MAAM,YAAYM,QAAQ,OAC9BpC,EAAM3G,QAAQgX,UAEjB,oCAAGrQ,EAAM3G,QAAQgX,eCXxC,IAAIC,GAAsBnL,aAAU,CAACzH,KAAM,wBAAjByH,EAjBjC,SAAwBnF,GACpB,OAAO,0BAAMqF,SAAUrF,EAAMoF,cACzB,6BACI,kBAACE,GAAA,EAAD,CACIC,KAAM,iBACNb,YAAY,qBACZc,UAAWtB,GACXf,SAAU,CAACF,OAGnB,6BACI,kBAAC0D,GAAA,EAAD,CAAQ7E,MAAM,YAAYtL,KAAK,UAA/B,aCaG+Z,GAxBC,SAACvQ,GAUb,OACI,kBAACkB,GAAA,EAAD,KAII,kBAACkI,GAAA,EAAD,CAAcC,QAASrJ,EAAM3B,QAAQmS,WAAYlH,UAAWtJ,EAAM3B,QAAQ7F,OAC1E,kBAAC8J,GAAA,EAAD,CAAYiH,KAAK,MAAMhH,aAAW,SAASpB,QAX5B,WACnBnB,EAAMyQ,cAAczQ,EAAM3B,QAAQ1G,MAW1B,kBAAC,KAAD,S,QCPVmH,GAAYC,cAAW,iBAAO,CAChCa,KAAM,CACFL,QAAS,QAEbmR,KAAM,CACFnR,QAAS,QAEbmL,OAAQ,CACJiG,MAVY,IAWZC,WAAY,GAGhBC,YAAa,CACTF,MAfY,KAkBhBG,aAAc,CACVvR,QAAS,OACTwR,WAAY,SACZpR,eAAgB,cAIT,SAASqR,GAAQhR,GAE5B,IAAMC,EAAUnB,KAEVE,EAAQiS,eAJqB,EAMX/Q,IAAMC,UAAS,GANJ,oBAM5Ba,EAN4B,KAMtBkQ,EANsB,KAY7Bf,EAAoB,WACtBe,GAAQ,IAINC,EAAiBnR,EAAM3G,QAAQ4E,KAAI,SAAArD,GAAC,OAAI,kBAAC,GAAD,CAC1CuV,kBAAmBA,EACnB1J,IAAK7L,EAAEjD,GACP0B,QAASuB,EACTH,YAAauF,EAAMvF,YACnBpF,OAAQ2K,EAAM3K,YAEZ+b,EAAkBpR,EAAM5G,SAAS6E,KAAI,SAAAK,GACvC,OAAO,kBAAC,GAAD,CACHmI,IAAKnI,EAAE3G,GACP0G,QAASC,EACTjJ,OAAQ2K,EAAM3K,OACdob,cAAezQ,EAAMyQ,mBAI7B,OACI,yBAAKnP,UAAWC,KAAElI,SAEd,kBAACgY,GAAA,EAAD,CACI/P,UAAS,UAAKrB,EAAQyK,QACtBtI,QAAQ,aACRqL,OAAO,OACPzM,KAAMA,EACNf,QAAS,CACLqR,MAAOrR,EAAQ4Q,cAGnB,yBAAKvP,UAAWrB,EAAQ6Q,cACpB,kBAACxO,GAAA,EAAD,CAAYnB,QAASgP,GACI,QAApBnR,EAAMuS,UAAsB,kBAAC,KAAD,CAAiBzP,MAAO,cAAiB,KAI9E,kBAACO,GAAA,EAAD,KACKrC,EAAMxG,eAAiB,kBAAC,GAAD,MACpB,6BAAM2X,IAEd,kBAACpP,GAAA,EAAD,OAIJ,yBAAKT,UAAS,UAAKC,KAAEnI,WACjB,kBAAC+I,GAAA,EAAD,CAAYL,MAAM,UACNS,aAAW,cACXpB,QAtDC,WACrB+P,GAAQ,IAsDY5P,UAAWkQ,aAAKxQ,GAAQf,EAAQyQ,MAChCtO,QAAQ,MAJpB,2BAKCpC,EAAM1G,kBAAoB,6BACtB0G,EAAMzG,gBAAkB,kBAAC,GAAD,MAAmB,oCAAG6X,GAC/C,kBAACd,GAAD,CAAqBjL,SAAUrF,EAAMyR,mB,IC1FnDC,G,+MAYFD,cAAgB,SAACrO,GACb,EAAKpD,MAAM2R,YAAY,EAAK3R,MAAM1G,iBAAkB8J,EAAOwO,iB,EAG/DnB,cAAgB,SAAChY,GACb,EAAKuH,MAAMyQ,cAAchY,I,mEAdzBoK,KAAK7C,MAAM6R,KAAKhP,KAAK7C,MAAM3K,U,yCAGZmT,EAAWC,EAAWC,GACjCF,EAAUnT,SAAWwN,KAAK7C,MAAM3K,QAChCwN,KAAK7C,MAAM8R,aAAajP,KAAK7C,MAAM3K,U,+BAcvC,OAAO,kBAAC2b,GAAD,eACKP,cAAe5N,KAAK4N,cACpBgB,cAAe5O,KAAK4O,eAChB5O,KAAK7C,Y,GAzBEE,IAAM4C,WAyCtBC,qBACXoI,GACAnI,aAdoB,SAACpJ,GAAD,MAAY,CAChCP,QAASO,EAAMW,YAAYlB,QAC3BD,SAAUQ,EAAMW,YAAYnB,SAC5BE,iBAAkBM,EAAMW,YAAYjB,iBACpCC,gBAAiBK,EAAMW,YAAYhB,gBACnCC,eAAgBI,EAAMW,YAAYf,eAClCE,4BAA6BE,EAAMW,YAAYb,4BAC/C9B,MAAOgC,EAAM2E,KAAK3G,MAClB/B,QAAS+D,EAAMgE,YAAY/H,WAMF,CACrBgc,KtCuBY,SAACxc,GAAD,8CAAY,WAAO0B,GAAP,SAAAC,EAAA,0DACtB3B,EADsB,uBAExB0B,EAAS0D,GAAYpF,IACrB0B,EAAS+C,GAAoBzE,IAHL,SAIlB0B,EAAS2D,GAAarF,IAJJ,OAM5B0B,EAASyD,MACTzD,EAAS+C,GAAoB,OAPD,2CAAZ,uDsCtBZgY,atC+BoB,SAACzc,GAAD,8CAAY,WAAO0B,GAAP,SAAAC,EAAA,sDAC9B3B,GACF0B,EAAS0D,GAAYpF,IACrB0B,EAAS+C,GAAoBzE,KAE7B0B,EAAS+C,GAAoB,OALG,2CAAZ,uDsC9BpBW,eACAkX,YtCwEmB,SAACtc,EAAQmD,GAAT,8CAAkB,WAAOzB,GAAP,eAAAC,EAAA,sEACpBoB,EAAuB/C,EAAQmD,GADX,OACrCvB,EADqC,OAEzCF,GAlE8BsH,EAkEHpH,EAASC,KAAKmH,QAlEE,CAAC7H,KAAMkC,GAAa2F,aAmE/DtH,EAAS+C,GAAoBzE,IAC7B0B,EAAS2D,GAAarF,IACtB0B,EAASwT,YAAM,yBAL0B,iCAhEZ,IAAClM,IAgEW,OAAlB,uDsCvEnBoS,ctC+EqB,SAAChY,GAAD,8CAAe,WAAO1B,GAAP,SAAAC,EAAA,sEAClCoB,EAAyBK,GADS,OAExC1B,EAASqD,GAAqB3B,IAFU,2CAAf,uDsC9ErB+B,cACAN,+BATO6I,CAWb2O,ICpCaK,OAtBf,WAGI,OACI,yBAAKzQ,UAAWyC,KAAMiO,YAClB,kBAAC,GAAD,MACA,yBAAK1Q,UAAWyC,KAAMkO,mBAClB,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAOC,OAAK,EAACjE,KAAK,IAAIkE,OAAQ,kBAAM,kBAAC,KAAD,CAAUC,KAAK,IAAI3Q,GAAG,gBAC1D,kBAAC,KAAD,CAAOwM,KAAK,oBAAoBkE,OAAQ,SAACnS,GAAD,OACpC,kBAAC,GAAD,CAAkB3K,OAAQ2K,EAAMnL,MAAM0W,OAAOlW,YACjD,kBAAC,KAAD,CAAO4Y,KAAK,kBAAkBkE,OAAQ,kBAAM,kBAAC,GAAD,SAC5C,kBAAC,KAAD,CAAOlE,KAAK,WAAWkE,OAAQ,kBAAM,kBAAC,GAAD,SACrC,kBAAC,KAAD,CAAOlE,KAAK,oBAAoBkE,OAAQ,SAACnS,GAAD,OACpC,kBAAC,GAAD,CAAkB3K,OAAQ2K,EAAMnL,MAAM0W,OAAOlW,YACjD,kBAAC,KAAD,CAAO4Y,KAAK,SAASkE,OAAQ,kBAAM,kBAAC,GAAD,a,0CCXxCE,OAXf,SAAmBrS,GACf,OACI,yBAAKsB,UAAWC,KAAEyE,MACd,4BACI,yBAAKP,IAAI,GAAGC,IAAK4M,KAAWhR,UAAWC,KAAE+Q,YAD7C,aCwBGvP,qBACX8I,KADW9I,EAtBe,WAE1B,IAAMhM,EAAW8Y,cAEX9U,EAAc6U,aAAY,SAAAhW,GAAK,OAAIA,EAAM4E,IAAIzD,eAC7CtB,EAAmBmW,aAAY,SAAAhW,GAAK,OAAIA,EAAMW,YAAYd,oBAUhE,OARAuW,qBAAU,WACNjZ,EAASiE,MACTuX,aAAY,WACRxb,EAASsD,QACV,OACJ,CAACtD,IAGCgE,EAIE,kBAAC,GAAD,CACHtB,iBAAkBA,IAJX,kBAAC,GAAD,SChBf+Y,IAASL,OACL,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAU1T,MAAOA,IACb,kBAAC,GAAD,QAGRkP,SAAS8E,eAAe,SjDoHtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBva,MAAK,SAAAwa,GACJA,EAAaC,gBAEdC,OAAM,SAAAjP,GACLkP,QAAQlP,MAAMA,EAAMzF,a,iBkDzI5B9J,EAAOC,QAAU,k0O,mBCCjBD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,IAAM,oBAAoB,KAAO,qBAAqB,WAAa,8B","file":"static/js/main.eb772595.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ProfileData_root__1jSVk\",\"formSummaryError\":\"ProfileData_formSummaryError__10JvM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1AFBB\",\"error\":\"FormControls_error__i86D5\",\"formSummaryError\":\"FormControls_formSummaryError__2dGmv\",\"inputForm\":\"FormControls_inputForm__2x7FS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsItems\":\"DialogItem_dialogsItems__3UADw\",\"activeLink\":\"DialogItem_activeLink__2POpV\",\"img\":\"DialogItem_img__3aj9a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__1Xa2I\",\"appWrapperContent\":\"App_appWrapperContent__aNlLj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postBlock\":\"MyPost_postBlock__BTKeC\",\"posts\":\"MyPost_posts__kWcak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"User_root__3ctli\",\"img\":\"User_img__1N2s6\",\"scroll\":\"User_scroll__1rmOt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Friends_main__vGvmx\",\"friend\":\"Friends_friend__2mN-g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__AMjAZ\",\"messages\":\"Dialogs_messages__1FdU8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Preloader_main__3TWOu\",\"preloader\":\"Preloader_preloader__3rVwi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Header_nav__2FogP\",\"item\":\"Header_item__HM5-I\",\"activeLink\":\"Header_activeLink__LmJKQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Login_main__2uiGm\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.2fb6e0a7.gif\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let'style check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It'style the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import axios from 'axios';\r\n\r\nexport const instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY':\r\n        //основной аккаунт\r\n            'ff828688-16d2-4be6-b299-7ba046a4b32d'\r\n        //второй аккаунт для тэста\r\n        // '3f20c7e7-15c3-40fd-9a19-b1423f325934'\r\n    }\r\n})","import {instance} from './instance';\r\n\r\n\r\nexport const profileApi = {\r\n    setUserProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    setStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`,\r\n            {status: status})\r\n    },\r\n    savePhoto(file) {\r\n        let formData = new FormData()\r\n        formData.append('image', file)\r\n\r\n        return instance.put(`profile/photo`,\r\n            formData, {\r\n                headers: {'Content-Type': 'multipart/form-data'}\r\n            }\r\n        )\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`,\r\n            profile)\r\n    },\r\n    // setPosts() {\r\n    //     return instance.get(`http://localhost:3004/posts`)\r\n    // },\r\n    // deletePost(postId) {\r\n    //     return instance.delete(`http://localhost:3004/posts/${postId}`)\r\n    //         .then(res => res.data)\r\n    // },\r\n    // sendPost(post) {\r\n    //     return instance.post(`http://localhost:3004/posts/`, post)\r\n    //\r\n    // },\r\n}","import {profileApi} from '../dal/prifileApi';\r\nimport {reset, stopSubmit} from 'redux-form';\r\n\r\nconst SET_USER_PROFILE = 'SOCIAL_NETWORK/PROFILE/SET_USER_PROFILE';\r\nconst SET_STATUS = 'SOCIAL_NETWORK/PROFILE/SET_STATUS';\r\nconst SAVE_PHOTO = 'SOCIAL_NETWORK/PROFILE/SAVE_PHOTO';\r\nconst EDIT_MODE = 'SOCIAL_NETWORK/PROFILE/EDIT_MODE';\r\nconst ADD_POST = 'SOCIAL_NETWORK/PROFILE/ADD-POST';\r\nconst DELETE_POST = 'SOCIAL_NETWORK/PROFILE/DELETE_POST';\r\n\r\n\r\nconst initialState = {\r\n    profile: null,\r\n    status: '',\r\n    posts: [],\r\n    editMode: false\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE:\r\n        case SET_STATUS:\r\n            return {...state, ...action.payload}\r\n        case SAVE_PHOTO:\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    photos: action.file\r\n                }\r\n            }\r\n        case EDIT_MODE:\r\n            return {\r\n                ...state,\r\n                editMode: action.editMode\r\n            }\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {...action.post}],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n//AC\r\nexport const setUserProfileSuccess = (profile) => ({type: SET_USER_PROFILE, payload: {profile}})\r\nexport const setStatusSuccess = (status) => ({type: SET_STATUS, payload: {status}})\r\nexport const savePhotoSuccess = (file) => ({type: SAVE_PHOTO, file})\r\nexport const setEditMode = (editMode) => ({type: EDIT_MODE, editMode})\r\nexport const addPostSuccess = (post) => ({type: ADD_POST, post})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\n//Thunks\r\nexport const getUsersProfile = (userId) => async (dispatch) => {\r\n    let response = await profileApi.setUserProfile(userId)\r\n    dispatch(setUserProfileSuccess(response.data))\r\n}\r\n\r\nexport const addPost = (newPostText) => async (dispatch) => {\r\n    let post = {\r\n        id: Math.floor(Math.random() * 100),\r\n        message: newPostText,\r\n        likeCounts: '0',\r\n    }\r\n    dispatch(addPostSuccess(post))\r\n    dispatch(reset('profileAddNewPostForm'))\r\n\r\n}\r\n\r\nexport const setStatus = (userId) => async (dispatch) => {\r\n    let response = await profileApi.setStatus(userId)\r\n    dispatch(setStatusSuccess(response.data))\r\n\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileApi.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatusSuccess(status))\r\n    }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileApi.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.id\r\n    let response = await profileApi.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUsersProfile(userId))\r\n        dispatch(setEditMode(false))\r\n    } else {\r\n        let messages = response.data.messages.length > 0 ? response.data.messages[0] : 'some error'\r\n        dispatch(stopSubmit('editProfile', {_error: messages}))\r\n        return Promise.reject(messages)\r\n    }\r\n}","import {instance} from './instance';\r\n\r\n\r\nexport const authApi = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n","import {authApi} from '../dal/authApi';\r\nimport {stopSubmit} from 'redux-form';\r\n\r\n\r\nexport const SET_USER_DATE = 'SOCIAL_NETWORK/AUTH/SET_USER_DATE';\r\nexport const GET_CAPTCHA_URL = 'SOCIAL_NETWORK/AUTH/GET_CAPTCHA_URL';\r\n\r\n\r\nconst initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n}\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATE:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.url\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//AC\r\n\r\nexport const setAuthUserDate = (id, email, login, isAuth) => ({\r\n    type: SET_USER_DATE,\r\n    payload: {id, email, login, isAuth}\r\n})\r\nexport const getCaptchaUrlSuccess = (url) => ({type: GET_CAPTCHA_URL, url})\r\n\r\n//Thunk\r\n\r\nexport const getAuthUserDate = () => async (dispatch) => {\r\n    let response = await authApi.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login,} = response.data.data\r\n        dispatch(setAuthUserDate(id, email, login, true))\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authApi.login(email, password, rememberMe, captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserDate())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let messages = response.data.messages.length > 0 ? response.data.messages[0] : 'some error'\r\n        dispatch(stopSubmit('login', {_error: messages}))\r\n    }\r\n}\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await authApi.getCaptchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authApi.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserDate(null, null, null, false))\r\n    }\r\n}","import {instance} from './instance';\r\n\r\n\r\nexport const dialogsApi = {\r\n    getDialogs() {\r\n        return instance.get(`dialogs`)\r\n            .then(res => res.data)\r\n    },\r\n    getMessages(userId) {\r\n        return instance.get(`dialogs/${userId}/messages`)\r\n            .then(res => res.data.items)\r\n    },\r\n    startDialogs(userId) {\r\n        return instance.put(`dialogs/${userId}`)\r\n            .then(res => res.data)\r\n    },\r\n    sendMessage(userId, body) {\r\n        return instance.post(`dialogs/${userId}/messages`, {body})\r\n            .then(res => res.data)\r\n    },\r\n    getNewMessages() {\r\n        return instance.get(`dialogs/messages/new/count`)\r\n            .then(res => res.data)\r\n    },\r\n    deleteMessage(messageId) {\r\n        return instance.delete(`dialogs/messages/${messageId}`)\r\n            .then(res => res.data)\r\n    },\r\n}","import {dialogsApi} from '../dal/dialogsApi';\r\nimport {reset} from 'redux-form'\r\n\r\n\r\nconst SET_MESSAGE = 'SOCIAL_NETWORK/DIALOGS/SET_MESSAGE';\r\nconst GET_DIALOGS = 'SOCIAL_NETWORK/DIALOGS/GET_DIALOGS';\r\nconst GET_MESSAGE = 'SOCIAL_NETWORK/DIALOGS/GET_MESSAGE';\r\nconst SET_CURRENT_DIALOGS = 'SOCIAL_NETWORK/DIALOGS/SET_CURRENT_DIALOGS';\r\nconst SET_LOADING_MESSAGES = 'SOCIAL_NETWORK/DIALOGS/SET_LOADING_MESSAGES';\r\nconst SET_LOADING_DIALOGS = 'SOCIAL_NETWORK/DIALOGS/SET_LOADING_DIALOGS';\r\nconst SET_NEW_MESSAGES_COUNT = 'SOCIAL_NETWORK/DIALOGS/SET_NEW_MESSAGES_COUNT';\r\nconst PUT_UP_DIALOGS = 'SOCIAL_NETWORK/DIALOGS/PUT_UP_DIALOGS';\r\nconst SET_CHANGE_NEW_MESSAGES = 'SOCIAL_NETWORK/DIALOGS/SET_CHANGE_NEW_MESSAGES';\r\nconst DELETE_MESSAGE = 'SOCIAL_NETWORK/DIALOGS/DELETE_MESSAGE';\r\n\r\n\r\nlet initialState = {\r\n    messages: [],\r\n    dialogs: [],\r\n    currentDialogsId: null,\r\n    loadingMessages: false,\r\n    loadingDialogs: false,\r\n    newMessagesCount: 0,\r\n    currentDialogsMessagesCount: 0,\r\n}\r\n\r\nconst update = (state, action) => ({...state, ...action.payload})\r\n\r\nexport const dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_DIALOGS:\r\n        case GET_MESSAGE:\r\n        case SET_CURRENT_DIALOGS:\r\n        case SET_NEW_MESSAGES_COUNT:\r\n            return update(state, action)\r\n        case SET_MESSAGE:\r\n            return {...state, messages: [...state.messages, action.message]}\r\n        case SET_CHANGE_NEW_MESSAGES:\r\n            return {\r\n                ...state,\r\n                dialogs: state.dialogs.map(d => {\r\n                    if (d.id === Number(action.userId)) {\r\n                        return {...d, hasNewMessages: action.hasNewMessages}\r\n                    } else return d\r\n                })\r\n            }\r\n        case PUT_UP_DIALOGS:\r\n            return {\r\n                ...state, dialogs: [\r\n                    state.dialogs.find(d => d.id === Number(action.userId)),\r\n                    ...state.dialogs.filter(d => d.id !== Number(action.userId))]\r\n            }\r\n        case SET_LOADING_MESSAGES:\r\n            return {...state, loadingMessages: action.loadingMessages}\r\n        case SET_LOADING_DIALOGS:\r\n            return {...state, loadingDialogs: !state.loadingDialogs}\r\n        case DELETE_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: state.messages.filter(m => {\r\n                    return m.id !== action.messageId\r\n                })\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//AC\r\nexport const getDialogsSuccess = (dialogs) => ({type: GET_DIALOGS, payload: {dialogs}})\r\nexport const getMessagesSuccess = (messages) => ({type: GET_MESSAGE, payload: {messages}})\r\nexport const setCurrentDialogsId = (currentDialogsId) => ({type: SET_CURRENT_DIALOGS, payload: {currentDialogsId}})\r\nexport const setMessageSuccess = (message) => ({type: SET_MESSAGE, message})\r\nexport const setHasNewMessages = (userId, hasNewMessages) => ({type: SET_CHANGE_NEW_MESSAGES, userId, hasNewMessages})\r\nexport const putUpDialog = (userId) => ({type: PUT_UP_DIALOGS, userId})\r\nexport const setLoadingMessagesSuccess = (loadingMessages) => ({type: SET_LOADING_MESSAGES, loadingMessages})\r\nexport const setLoadingDialogsSuccess = () => ({type: SET_LOADING_DIALOGS,})\r\nexport const deleteMessageSuccess = (messageId) => ({type: DELETE_MESSAGE, messageId})\r\nexport const setNewMessagesCountSuccess = (newMessagesCount) => ({\r\n    type: SET_NEW_MESSAGES_COUNT,\r\n    payload: {newMessagesCount}\r\n})\r\n\r\n//Thunk\r\nexport const init = (userId) => async (dispatch) => {\r\n    if (!!userId) {\r\n        dispatch(getMessages(userId))\r\n        dispatch(setCurrentDialogsId(userId))\r\n        await dispatch(startDialogs(userId))\r\n    }\r\n    dispatch(getDialogs())\r\n    dispatch(setCurrentDialogsId(null))\r\n}\r\nexport const updateDialog = (userId) => async (dispatch) => {\r\n    if (!!userId) {\r\n        dispatch(getMessages(userId))\r\n        dispatch(setCurrentDialogsId(userId))\r\n    } else {\r\n        dispatch(setCurrentDialogsId(null))\r\n    }\r\n\r\n}\r\n\r\nexport const getNewMessages = () => async (dispatch, getState) => {\r\n    const state = getState()\r\n    let response = await dialogsApi.getNewMessages()\r\n    if (state.dialogsPage.newMessagesCount !== response) {\r\n        dispatch(setNewMessagesCountSuccess(response))\r\n    }\r\n}\r\n\r\nexport const getDialogs = () => async (dispatch) => {\r\n    dispatch(setLoadingDialogsSuccess())\r\n    const response = await dialogsApi.getDialogs()\r\n    dispatch(getDialogsSuccess(response))\r\n    dispatch(setLoadingDialogsSuccess())\r\n}\r\n\r\nexport const getMessages = (userId) => async (dispatch) => {\r\n    dispatch(setLoadingMessagesSuccess(true))\r\n    let response = await dialogsApi.getMessages(userId)\r\n    await dispatch(getMessagesSuccess(response))\r\n    dispatch(setLoadingMessagesSuccess(false))\r\n    dispatch(setCurrentDialogsId(userId))\r\n    dispatch(setHasNewMessages(userId, false))\r\n\r\n}\r\n\r\nexport const startDialogs = (userId) => async (dispatch, getState) => {\r\n    await dialogsApi.startDialogs(userId)\r\n    const dialogs = getState().dialogsPage.dialogs.find(d => d.id === Number(userId))\r\n    if (dialogs) {\r\n        dispatch(putUpDialog(userId))\r\n    }\r\n}\r\n\r\nexport const sendMessage = (userId, body) => async (dispatch) => {\r\n    let response = await dialogsApi.sendMessage(userId, body)\r\n    dispatch(setMessageSuccess(response.data.message))\r\n    dispatch(setCurrentDialogsId(userId))\r\n    dispatch(startDialogs(userId))\r\n    dispatch(reset('dialogAddMessageForm'))\r\n}\r\n\r\nexport const deleteMessage = (messageId) => async (dispatch) => {\r\n    await dialogsApi.deleteMessage(messageId)\r\n    dispatch(deleteMessageSuccess(messageId))\r\n}\r\n\r\n","import {getAuthUserDate} from './authReducer';\r\nimport {getNewMessages} from './dialogsReducer';\r\n\r\nexport const SET_INITIALIZED = 'SOCIAL_NETWORK/APP/SET_INITIALIZED';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n\r\n}\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n//AC\r\nexport const initializedSuccess = () => ({type: SET_INITIALIZED})\r\n\r\n\r\n//Thunk\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserDate());\r\n\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n        dispatch(getNewMessages())\r\n    })\r\n\r\n}\r\n","import {instance} from './instance';\r\n\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage, pageSize, searchName) {\r\n        return instance.get(`users?`\r\n            + (searchName ? `term=${searchName}&` : '')\r\n            + (pageSize ? `count=${pageSize}&` : '')\r\n            + (currentPage ? `page=${currentPage}` : '')\r\n        )\r\n            .then(response => response.data)\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`,\r\n            {})\r\n    },\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n    }\r\n}","import {usersApi} from '../dal/usersApi';\r\n\r\n\r\nexport const FOLLOW = 'SOCIAL_NETWORK/USERS/FOLLOW';\r\nexport const UN_FOLLOW = 'SOCIAL_NETWORK/USERS/UN-FOLLOW';\r\nexport const SET_USERS = 'SOCIAL_NETWORK/USERS/SET-USERS';\r\nexport const SET_FRIENDS = 'SOCIAL_NETWORK/USERS/SET_FRIENDS';\r\nexport const CURRENT_PAGE = 'SOCIAL_NETWORK/USERS/CURRENT_PAGE';\r\nexport const SET_TOTAL_USERS_COUNT = 'SOCIAL_NETWORK/USERS/SET_TOTAL_USERS_COUNT';\r\nexport const SET_PORTION_NUMBER = 'SOCIAL_NETWORK/USERS/SET_PORTION_NUMBER';\r\nexport const TOGGLE_IS_FETCHING = 'SOCIAL_NETWORK/USERS/TOGGLE_IS_FETCHING';\r\nexport const TOGGLE_IS_FOLLOWING_PROGRESS = 'SOCIAL_NETWORK/USERS/TOGGLE_IS_FOLLOWING_PROGRESS';\r\nexport const LOADING_FRIENDS = 'SOCIAL_NETWORK/USERS/LOADING_FRIENDS';\r\nexport const SET_SEARCH_NAME = 'SOCIAL_NETWORK/USERS/SET_SEARCH_NAME';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    friends: [],\r\n    pageSize: 10,\r\n    totalItemsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    loadingFriends: false,\r\n    searchName: '',\r\n    portionSize: 5,\r\n    portionNumber: 1\r\n\r\n}\r\n\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (action.userId === u.id) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case UN_FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (action.userId === u.id) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SET_PORTION_NUMBER:\r\n            return {\r\n                ...state,\r\n                portionNumber: action.portionNumber\r\n            }\r\n        case SET_FRIENDS:\r\n            return {\r\n                ...state,\r\n                friends: action.friends\r\n            }\r\n        case SET_SEARCH_NAME:\r\n            return {\r\n                ...state,\r\n                searchName: action.searchName\r\n            }\r\n        case LOADING_FRIENDS:\r\n            return {\r\n                ...state,\r\n                loadingFriends: !state.loadingFriends\r\n            }\r\n        case CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalItemsCount: action.totalCount\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n//AC\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UN_FOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setPortionNumber = (portionNumber) => ({type: SET_PORTION_NUMBER, portionNumber});\r\nexport const setSearchNameSuccess = (searchName) => ({type: SET_SEARCH_NAME, searchName});\r\nexport const setCurrentPage = (currentPage) => ({type: CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (followingInProgress, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    followingInProgress,\r\n    userId\r\n});\r\n\r\n\r\n//Thunk\r\nexport const getUsers = (newPage) => async (dispatch, getState) => {\r\n    dispatch(setCurrentPage(newPage))\r\n    const {currentPage, pageSize, searchName} = getState().usersPage\r\n    dispatch(toggleIsFetching(true))\r\n    let response = await usersApi.getUsers(currentPage || newPage, pageSize, searchName)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n}\r\n\r\nexport const searchName = (searchName) => async (dispatch, getState) => {\r\n    dispatch(setSearchNameSuccess(searchName))\r\n    dispatch(setCurrentPage(1))\r\n    dispatch(setPortionNumber(1))\r\n    const {currentPage} = getState().usersPage\r\n    dispatch(getUsers(currentPage))\r\n\r\n}\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await usersApi.follow(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(followSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const unFollow = (userId) => async (dispatch) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    let response = await usersApi.unFollow(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(unFollowSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n","import {instance} from './instance';\r\n\r\n\r\nexport const friendsApi = {\r\n    getFriends() {\r\n        return instance.get(`users?friend=${true}`\r\n        )\r\n            .then(response => response.data)\r\n    },\r\n}","import {friendsApi} from '../dal/friendsApi';\r\nimport {usersApi} from '../dal/usersApi';\r\n\r\n\r\nexport const REMOVE_FRIENDS = 'SOCIAL_NETWORK/USERS/REMOVE_FRIENDS';\r\nexport const SET_FRIENDS = 'SOCIAL_NETWORK/USERS/SET_FRIENDS';\r\nexport const LOADING_FRIENDS = 'SOCIAL_NETWORK/USERS/LOADING_FRIENDS';\r\n\r\n\r\nlet initialState = {\r\n    friends: [],\r\n    loadingFriends: false,\r\n}\r\n\r\n\r\nexport const friendsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case REMOVE_FRIENDS:\r\n            return {\r\n                ...state,\r\n                friends: state.friends.map(u => {\r\n                    if (action.friendId === u.id) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_FRIENDS:\r\n            return {\r\n                ...state,\r\n                friends: action.friends\r\n            }\r\n        case LOADING_FRIENDS:\r\n            return {\r\n                ...state,\r\n                loadingFriends: !state.loadingFriends\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n//AC\r\nexport const removeSuccess = (friendId) => ({type: REMOVE_FRIENDS, friendId});\r\nexport const setFriendsSuccess = (friends) => ({type: SET_FRIENDS, friends});\r\nexport const loadingFriends = () => ({type: LOADING_FRIENDS});\r\n\r\n\r\n//Thunk\r\nexport const getFriends = () => async (dispatch) => {\r\n    dispatch(loadingFriends())\r\n    const response = await friendsApi.getFriends()\r\n    dispatch(loadingFriends())\r\n    dispatch(setFriendsSuccess(response.items))\r\n}\r\n\r\nexport const removeFriend = (friendId) => async (dispatch) => {\r\n    let response = await usersApi.unFollow(friendId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(removeSuccess(friendId))\r\n        dispatch(getFriends(friendId))\r\n    }\r\n\r\n}\r\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport {profileReducer} from './profileReducer';\r\nimport {authReducer} from './authReducer';\r\nimport {appReducer} from './appReduсer';\r\nimport {usersReducer} from './usersReducer';\r\nimport {friendsReducer} from './friendsReducer';\r\nimport {dialogsReducer} from './dialogsReducer';\r\n\r\nconst reducers = combineReducers({\r\n    form: formReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    friendsPage: friendsReducer,\r\n    dialogsPage: dialogsReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n})\r\n\r\nexport const store = createStore(reducers, composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\r\nimport s from './Header.module.css';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport List from '@material-ui/core/List';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    grow: {\r\n        flexGrow: 2,\r\n\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    nav: {\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    sectionDesktop: {\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n        },\r\n    },\r\n    root: {\r\n        flexGrow: 1,\r\n        maxWidth: 500,\r\n    },\r\n    sectionMobile: {\r\n        display: 'flex',\r\n\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n}));\r\n\r\n\r\nexport default function Header(props) {\r\n\r\n\r\n    const classes = useStyles();\r\n\r\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n\r\n    const handleMobileMenuClose = () => {\r\n        setMobileMoreAnchorEl(null);\r\n    };\r\n\r\n\r\n    const handleMobileMenuOpen = (event) => {\r\n        setMobileMoreAnchorEl(event.currentTarget);\r\n    };\r\n\r\n\r\n    const mobileMenuId = 'primary-account-menu-mobile';\r\n    const renderMobileMenu = (\r\n        <Menu\r\n            anchorEl={mobileMoreAnchorEl}\r\n            anchorOrigin={{vertical: 'top', horizontal: 'right'}}\r\n            id={mobileMenuId}\r\n            keepMounted\r\n            transformOrigin={{vertical: 'top', horizontal: 'right'}}\r\n            open={isMobileMenuOpen}\r\n            onClose={handleMobileMenuClose}>\r\n            <ListItem onClick={handleMobileMenuClose} button>\r\n                <ListItemIcon>\r\n                    <AccountBoxIcon/>\r\n                </ListItemIcon>\r\n                <div className={s.item}>\r\n                    <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n                </div>\r\n            </ListItem>\r\n            <ListItem onClick={handleMobileMenuClose} button>\r\n                <ListItemIcon>\r\n                    <SentimentVerySatisfiedIcon/>\r\n                </ListItemIcon>\r\n                <div className={s.item}>\r\n                    <NavLink to='/friends' activeClassName={s.activeLink}>Friends</NavLink>\r\n                </div>\r\n            </ListItem>\r\n            <ListItem onClick={handleMobileMenuClose} button>\r\n                <ListItemIcon>\r\n                    {props.newMessagesCount > 0\r\n                        ? <Badge badgeContent={props.newMessagesCount} color=\"secondary\">\r\n                            <EmailIcon/>\r\n                        </Badge> : <EmailIcon/>}\r\n                </ListItemIcon>\r\n                <div className={s.item}>\r\n                    <NavLink to='/dialogs' activeClassName={s.activeLink}>Dialogs</NavLink>\r\n                </div>\r\n            </ListItem>\r\n            <ListItem onClick={handleMobileMenuClose} button>\r\n                <ListItemIcon>\r\n                    <PeopleIcon/>\r\n                </ListItemIcon>\r\n                <div className={s.item}>\r\n                    <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n                </div>\r\n            </ListItem>\r\n            <Divider/>\r\n            <ListItem onClick={handleMobileMenuClose} button>\r\n                <ListItemIcon>\r\n                    <ExitToAppIcon/>\r\n                </ListItemIcon>\r\n                {props.isAuth &&\r\n                <div className={s.item}>\r\n                    <NavLink to={'/login'} activeClassName={s.activeLink} onClick={props.logout}>Logout</NavLink>\r\n                </div>}\r\n            </ListItem>\r\n        </Menu>\r\n    );\r\n\r\n\r\n    return (\r\n        <div className={classes.grow}>\r\n            <AppBar color=\"inherit\">\r\n                <Toolbar>\r\n                    <Typography variant={'h6'}>My Social Network</Typography>\r\n                    <div className={classes.grow}/>\r\n                    <List className={s.nav}>\r\n                        <div className={s.item}>\r\n                        <NavLink to='/profile' activeClassName={s.activeLink}>\r\n                        <ListItem button>Profile</ListItem>\r\n                        </NavLink>\r\n                        </div>\r\n                        <div className={s.item}>\r\n                        <NavLink to='/friends' activeClassName={s.activeLink}>\r\n                        <ListItem button>Friends</ListItem>\r\n                        </NavLink>\r\n                        </div>\r\n                        <div className={s.item}>\r\n                        <NavLink to='/dialogs' activeClassName={s.activeLink}>\r\n                        <ListItem button>\r\n                                {props.newMessagesCount > 0\r\n                                    ? <Badge badgeContent={props.newMessagesCount} color=\"secondary\">\r\n                                        Dialogs\r\n                                    </Badge>\r\n                                    : <>Dialogs</>}\r\n                        </ListItem>\r\n                        </NavLink>\r\n                        </div>\r\n                        <div className={s.item}>\r\n                        <NavLink to='/users' activeClassName={s.activeLink}>\r\n                        <ListItem button>Users</ListItem>\r\n                        </NavLink>\r\n                        </div>\r\n                    </List>\r\n                    <div className={classes.grow}/>\r\n                    <div className={`${classes.sectionDesktop} ${s.item}`}>\r\n                        {props.isAuth ?\r\n                            <NavLink to='/login' activeClassName={s.activeLink}>\r\n                            <ListItem button onClick={props.logout} color=\"inherit\">\r\n                                <div className={s.item}>\r\n                                    Logout\r\n                                </div>\r\n                            </ListItem>\r\n                            </NavLink>\r\n                            : ''}\r\n                    </div>\r\n                    <div className={classes.sectionMobile}>\r\n                        <IconButton\r\n                            aria-label=\"show more\"\r\n                            aria-controls={mobileMenuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleMobileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <MoreIcon/>\r\n                        </IconButton>\r\n                    </div>\r\n                </Toolbar>\r\n            </AppBar>\r\n            {renderMobileMenu}\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {compose} from 'redux';\r\nimport Header from './Header';\r\nimport {logout} from '../../bll/authReducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        newMessagesCount: state.dialogsPage.newMessagesCount,\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {logout})\r\n)(HeaderContainer)","export const required = value => {\r\n    if (value) return undefined\r\n    return 'Filed is required'\r\n\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > 30) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n\r\n}\r\n\r\nexport const validate = values => {\r\n    const errors = {}\r\n    const requiredFields = [\r\n        'login',\r\n        'password',\r\n        'rememberMe',\r\n    ]\r\n    requiredFields.forEach(field => {\r\n        if (!values[field]) {\r\n            errors[field] = 'Required'\r\n        }\r\n    })\r\n    if (\r\n        values.login &&\r\n        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.login)\r\n    ) {\r\n        errors.login = 'Invalid email address'\r\n    }\r\n    return errors\r\n}","import React from 'react';\r\nimport style from './FormControls.module.css'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={`${style.formControl} ${hasError ? style.error : ''}`}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return <FormControl {...props}>\r\n\r\n        <textarea {...input} {...restProps} />\r\n\r\n\r\n    </FormControl>\r\n\r\n}\r\n\r\n\r\nexport const renderTextField = ({label, input, meta: {touched, invalid, error}, ...custom}) => (\r\n    <TextField\r\n        className={style.inputForm}\r\n        color='secondary'\r\n        label={label}\r\n        placeholder={label}\r\n        error={touched && invalid}\r\n        helperText={touched && error}\r\n        {...input}\r\n        {...custom}/>\r\n)\r\n\r\nexport const renderLoginField = ({label, input, meta: {touched, invalid, error}, ...custom}) => (\r\n    <TextField\r\n        color='secondary'\r\n        label={label}\r\n        placeholder={label}\r\n        error={touched && invalid}\r\n        helperText={touched && error}\r\n        {...input}\r\n        {...custom}/>\r\n)\r\n\r\nexport const renderCheckbox = ({input, label}) => (\r\n    <div>\r\n        <FormControlLabel\r\n            control={\r\n                <Checkbox\r\n                    color={'default'}\r\n                    checked={input.value ? true : false}\r\n                    onChange={input.onChange}/>\r\n            }\r\n            label={label}\r\n        />\r\n    </div>\r\n)\r\n\r\n\r\n","import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport Button from '@material-ui/core/Button';\r\nimport {required, validate} from '../../utils/validators/validators';\r\nimport {renderLoginField} from '../common/FormsConrols/FormControls';\r\n\r\n\r\nconst LoginForm = props => {\r\n    const { handleSubmit } = props\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field name=\"login\" component={renderLoginField} label=\"Login\"/>\r\n            </div>\r\n            <div>\r\n                <Field type='password' name=\"password\" component={renderLoginField} label=\"Password\" />\r\n            </div>\r\n            <div />\r\n            {props.captchaUrl && <div>\r\n                <img alt='' src={props.captchaUrl}/>\r\n                <Field\r\n                    type=\"text\"\r\n                    placeholder='Symbols from image'\r\n                    component={renderLoginField}\r\n                    name={'captcha'}\r\n                    validate={required}/>\r\n            </div>\r\n            }\r\n            <div style={{margin:'10px'}}>\r\n                <button type=\"submit\">Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm({\r\n    form: 'login',\r\n    validate,\r\n})(LoginForm)","import React from 'react';\r\nimport LoginForm from './LoginForm';\r\nimport {connect} from 'react-redux';\r\nimport {login} from '../../bll/authReducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport s from './Login.module.css'\r\n\r\n\r\nfunction Login(props) {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.login, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            <h3>For test use:</h3>\r\n            <div>Email: <strong>free@samuraijs.com</strong></div>\r\n            <div>Password: <strong>free</strong></div>\r\n\r\n            <h1>Login</h1>\r\n            <LoginForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl,\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\nimport s from './ProfileData.module.css';\r\nimport {renderCheckbox, renderTextField, Textarea} from '../../common/FormsConrols/FormControls';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst ProfileDataForm = (props) => {\r\n\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <input type={'file'} onChange={onMainPhotoSelected}/>\r\n        <div>\r\n            <Field name=\"fullName\" component={renderTextField} label=\"Full name\"/>\r\n        </div>\r\n        <div >\r\n            <b>About Me</b>:\r\n            <Field\r\n                type=\"text\"\r\n                placeholder='About Me'\r\n                component={Textarea}\r\n                name={'aboutMe'}/>\r\n        </div>\r\n        <div>\r\n            <Field type=\"checkbox\" name=\"lookingForAJob\" component={renderCheckbox} label=\"Looking for a job\"/>\r\n        </div>\r\n        <div>\r\n            <b>My professional skills</b> :\r\n            <Field\r\n                type=\"text\"\r\n                placeholder='My skills'\r\n                component={Textarea}\r\n                name={'lookingForAJobDescription'}/>\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>:{Object.keys(props.profile.contacts).map(key => {\r\n            return <div key={key}>\r\n                <Field\r\n                    type=\"text\"\r\n                    name={'contacts.' + key}\r\n                    component={renderTextField}\r\n                    label={key}/>\r\n            </div>\r\n        })}\r\n        </div>\r\n        {props.error && <div className={s.formSummaryError}>\r\n            {props.error}\r\n        </div>}\r\n        <div>\r\n            <Button color=\"secondary\" type=\"submit\">save</Button>\r\n            <Button color=\"secondary\" onClick={props.cancelEditMode}>cancel</Button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm({form: 'editProfile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataReduxForm","import s from './ProfileData.module.css';\r\nimport React from 'react';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {\r\n    faFacebook,\r\n    faGithub,\r\n    faInstagram,\r\n    faLinkedinIn,\r\n    faTwitter,\r\n    faYoutube\r\n} from '@fortawesome/free-brands-svg-icons';\r\nimport {faAddressCard} from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport const Contact = ({contactTitle, contactValue}) => {\r\n\r\n    if (contactValue !== '') {\r\n        if (contactTitle === 'facebook') {\r\n            contactTitle = <FontAwesomeIcon icon={faFacebook} size='2x'/>\r\n        } else if (contactTitle === 'twitter') {\r\n            contactTitle = <FontAwesomeIcon icon={faTwitter} size='2x'/>\r\n        } else if (contactTitle === 'website') {\r\n            contactTitle = <FontAwesomeIcon icon={faAddressCard}  size='2x'/>\r\n        } else if (contactTitle === 'instagram') {\r\n            contactTitle = <FontAwesomeIcon icon={faInstagram} size='2x'/>\r\n        } else if (contactTitle === 'youtube') {\r\n            contactTitle = <FontAwesomeIcon icon={faYoutube} size='2x'/>\r\n        } else if (contactTitle === 'github') {\r\n            contactTitle = <FontAwesomeIcon icon={faGithub} size='2x'/>\r\n        } else if (contactTitle === 'vk') {\r\n            contactTitle = <FontAwesomeIcon icon={faLinkedinIn} size='2x'/>\r\n        } else if (contactTitle === 'mainLink') {\r\n            contactTitle = <FontAwesomeIcon icon={faLinkedinIn} size='2x'/>\r\n        }\r\n    }\r\n\r\n    return <a href = {`${contactValue}`}  className={s.root}>\r\n            {contactValue !== '' && contactTitle}\r\n        </a>\r\n\r\n};","import React from 'react';\r\nimport {Contact} from './Contact';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport const ProfileData = (props) => {\r\n    return <div>\r\n        <div>\r\n            <div>\r\n                <b>Full name : </b>{props.profile.fullName}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job : </b>\r\n                {props.profile.lookingForAJob ? 'yes' : 'no'}\r\n            </div>\r\n            {props.profile.lookingForAJob && <div>\r\n                <b>My professional skill :</b> {props.profile.lookingForAJobDescription}\r\n            </div>}\r\n            <div>\r\n                <b>About Me : </b>{props.profile.aboutMe}\r\n            </div>\r\n            <div>\r\n                <div><b>Contacts : </b></div>{Object.keys(props.profile.contacts)\r\n                .filter(key => props.profile.contacts[key])\r\n                .map(key => {\r\n                    return <Contact\r\n                        key={key}\r\n                        contactTitle={key}\r\n                        contactValue={props.profile.contacts[key]}/>\r\n                })}\r\n            </div>\r\n        </div>\r\n        {props.isOwner && <Button color=\"secondary\" onClick={props.goToEditMode}>edit</Button>}\r\n    </div>\r\n}\r\n\r\n","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {renderTextField} from '../../common/FormsConrols/FormControls';\r\nimport {validate} from '../../../utils/validators/validators';\r\n\r\n\r\nclass ProfileStatus extends React.Component {\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.updateStatus(this.state.status)\r\n    }\r\n    onKeYPress = (e) => {\r\n        if (e.key === 'Enter') {\r\n            this.deactivateEditMode()\r\n        }\r\n    }\r\n    onStatusChange = (e) => {\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {!this.state.editMode\r\n                    ? <div style={{margin:'10px'}}>\r\n                        <span\r\n                            onDoubleClick={this.activateEditMode}>\r\n                            <b>Status : </b> {this.props.status || 'No status'}\r\n                        </span>\r\n                    </div>\r\n                    : <div>\r\n                        Status:\r\n                        <div style={{margin:'10px'}}>\r\n                            <Field\r\n                                name=\"status\"\r\n                                component={renderTextField}\r\n                                label=\"Status\"\r\n                                onKeyPress={this.onKeYPress}\r\n                                onBlur={this.deactivateEditMode}\r\n                                autoFocus={true}\r\n                                value={this.state.status}\r\n                                onChange={this.onStatusChange}/>\r\n                        </div>\r\n                        {/*<input*/}\r\n                        {/*    onKeyPress={this.onKeYPress}*/}\r\n                        {/*    onBlur={this.deactivateEditMode}*/}\r\n                        {/*    autoFocus={true}*/}\r\n                        {/*    value={this.state.status}*/}\r\n                        {/*    onChange={this.onStatusChange}/>*/}\r\n                    </div>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default reduxForm({\r\n    form: 'profileStatus',\r\n    validate,\r\n})(ProfileStatus)\r\n","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <React.Fragment>\r\n            <ListItem button>\r\n                <ListItemAvatar>\r\n                    <Avatar alt=\"\" src={props.photo}/>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={props.fullName} secondary={props.post.message}/>\r\n                <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => {\r\n                    props.deletePost(props.post.id)\r\n                }}>\r\n                    <DeleteIcon/>\r\n                </IconButton>\r\n            </ListItem>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPost.module.css'\r\nimport Post from './Post/Post';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {maxLengthCreator, required} from '../../../utils/validators/validators';\r\nimport {Textarea} from '../../common/FormsConrols/FormControls';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nlet maxLength10 = maxLengthCreator(100)\r\n\r\nfunction AddNewPost(props) {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <Field\r\n            validate={[required, maxLength10]}\r\n            component={Textarea}\r\n            name={'newPostText'}\r\n            placeholder='Enter your post'/>\r\n        <div>\r\n            <Button color=\"secondary\" type=\"submit\">Add post</Button>\r\n        </div>\r\n    </form>;\r\n}\r\n\r\nlet AddNewPostFormRedux = reduxForm({form: 'profileAddNewPostForm'})(AddNewPost)\r\n\r\nconst MyPost = React.memo((props) => {\r\n\r\n\r\n    let postsElement = props.posts.map((p) =>\r\n        <Post\r\n            deletePost={props.deletePost}\r\n            fullName={props.fullName}\r\n            photo={props.photo}\r\n            key={p.id}\r\n            post={p}\r\n        />)\r\n\r\n\r\n    let addPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.postBlock}>\r\n            <h3>My post</h3>\r\n            <AddNewPostFormRedux\r\n                onSubmit={addPost}/>\r\n            <div className={s.posts}>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default MyPost;","import MyPost from './MyPost';\r\nimport {connect} from 'react-redux';\r\nimport {addPost, deletePost,} from '../../../bll/profileReducer';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText,\r\n        photo: state.profilePage.profile.photos.large,\r\n        fullName: state.profilePage.profile.fullName,\r\n        profile: state.profilePage.profile,\r\n    }\r\n}\r\n\r\nconst MyPostContainer = connect(mapStateToProps, {addPost, deletePost})(MyPost);\r\n\r\nexport default MyPostContainer;","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n}));\r\n\r\nfunction PreloaderInit(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Backdrop className={classes.backdrop} open={true}>\r\n            <CircularProgress color=\"inherit\"/>\r\n        </Backdrop>\r\n    )\r\n}\r\n\r\nexport default PreloaderInit;","import React from 'react';\r\nimport ava from '../../img/ava.png'\r\nimport ProfileDataForm from './ProfileData/ProfileDataForm';\r\nimport {ProfileData} from './ProfileData/ProfileData';\r\nimport ProfileStatus from './Status/ProfileStatus';\r\nimport MyPostContainer from './MyPost/MyPostContainer';\r\nimport PreloaderInit from '../common/Preloaders/PreloaderForInit';\r\n\r\n\r\nexport const Profile = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.saveProfile(formData)\r\n    }\r\n\r\n\r\n    const cancelEditMode = () => {\r\n        props.setEditMode(false)\r\n    }\r\n\r\n    if (!props.profile) {\r\n        return <PreloaderInit/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img\r\n                    alt=''\r\n                    src={props.profile.photos.large != null ? props.profile.photos.large : ava}/>\r\n            </div>\r\n            <div>\r\n                <ProfileStatus\r\n                    status={props.status}\r\n                    updateStatus={props.updateStatus}/>\r\n\r\n                {props.editMode\r\n                    ? <ProfileDataForm\r\n                        initialValues={props.profile}\r\n                        profile={props.profile}\r\n                        onSubmit={onSubmit}\r\n                        cancelEditMode={cancelEditMode}\r\n                        savePhoto={props.savePhoto}/>\r\n                    : <ProfileData\r\n                        profile={props.profile}\r\n                        isOwner={props.isOwner}\r\n                        goToEditMode={() => {\r\n                            props.setEditMode(true)\r\n                        }}/>}\r\n            </div>\r\n            {props.isOwner &&\r\n            <MyPostContainer/>}\r\n        </div>\r\n\r\n    )\r\n};","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n\r\n","import React from 'react';\r\nimport {Profile} from './Profile';\r\nimport {compose} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    getUsersProfile,\r\n    savePhoto,\r\n    saveProfile,\r\n    setEditMode,\r\n    setStatus,\r\n    updateStatus\r\n} from '../../bll/profileReducer';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {WithAuthRedirect} from '../Hoc/WithAuthRedirect';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile = () => {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUsersProfile(userId)\r\n        this.props.setStatus(userId)\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return <Profile\r\n            {...this.props}\r\n            profile={this.props.profile}\r\n            isOwner={!this.props.match.params.userId}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        editMode: state.profilePage.editMode,\r\n        authorizedUserId: state.auth.id,\r\n        isAuth: state.auth.isAuth,\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUsersProfile, setEditMode, setStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n    WithAuthRedirect\r\n)(ProfileContainer)","import React from 'react';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {renderTextField} from '../FormsConrols/FormControls';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nexport const SearchForm = (props) => {\r\n\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field type=\"text\" name=\"search\" component={renderTextField} label=\"Enter name\"/>\r\n            </div>\r\n            <div style={{fontSize: '10px'}}>\r\n                Сервер принимает только латинские буквы и цифры\r\n            </div>\r\n            <div>\r\n                <Button  color=\"secondary\" type=\"submit\">Search</Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst SearchReduxForm = reduxForm({form: 'search'})(SearchForm)\r\n\r\nexport default SearchReduxForm;\r\n\r\n","import React from 'react';\r\nimport SearchReduxForm from './SearchReduxForm';\r\n\r\n\r\nexport const Search = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.searchName(formData.search)\r\n    }\r\n\r\n    return <SearchReduxForm onSubmit={onSubmit}/>\r\n}\r\n\r\n\r\nexport default Search;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nfunction Paginator(props) {\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let leftPortionPageNumber = (props.portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = props.portionNumber * props.portionSize;\r\n\r\n    const incrementPage = () => {\r\n        props.nextPortion(props.portionNumber + 1)\r\n    }\r\n    const decrementPage = () => {\r\n        props.prevPortion(props.portionNumber - 1)\r\n    }\r\n\r\n    const setFirstPage = () => {\r\n        props.firstPortion(1)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {props.portionNumber > 1 &&\r\n            <>\r\n                <Button color=\"secondary\" onClick={setFirstPage}>first</Button>\r\n                <Button color=\"secondary\" onClick={decrementPage}>Prev</Button>\r\n            </>}\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <Button\r\n                        key={p}\r\n                        onClick={(e) => {\r\n                            props.onPageChanged(p);\r\n                        }}>{p}</Button>\r\n                })}\r\n            {portionCount > props.portionNumber &&\r\n            <Button color=\"secondary\" onClick={incrementPage}>Next</Button>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Paginator;\r\n\r\n","import React from 'react';\r\nimport style from './User.module.css'\r\nimport ava from '../../../img/ava.png'\r\nimport {NavLink} from 'react-router-dom';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger';\r\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        position: 'fixed',\r\n        bottom: theme.spacing(2),\r\n        right: theme.spacing(2),\r\n    },\r\n}));\r\n\r\nfunction ScrollTop(props) {\r\n    const classes = useStyles();\r\n    const {children, window} = props;\r\n\r\n    const trigger = useScrollTrigger({\r\n        target: window ? window() : undefined,\r\n        disableHysteresis: true,\r\n        threshold: 100,\r\n    });\r\n\r\n    const handleClick = (event) => {\r\n        const anchor = (event.target.ownerDocument || document).querySelector('#back-to-top-anchor');\r\n        if (anchor) {\r\n            anchor.scrollIntoView({behavior: 'smooth', block: 'center'});\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Zoom in={trigger}>\r\n            <div onClick={handleClick} className={classes.root}>\r\n                {children}\r\n            </div>\r\n        </Zoom>\r\n    );\r\n}\r\n\r\nconst User = (props) => {\r\n\r\n    const path = '/profile/' + props.user.id;\r\n\r\n    return (<>\r\n            <div className={style.root}>\r\n                <NavLink to={path}>\r\n                    <img\r\n                        alt=''\r\n                        src={props.user.photos.small != null\r\n                            ? props.user.photos.small : ava}\r\n                        className={style.img}/>\r\n                    <div>{props.user.name}</div>\r\n                </NavLink>\r\n                <div>\r\n                    {props.user.followed\r\n                        ? <IconButton\r\n                            aria-label=\"unFollow\"\r\n                            disabled={props.followingInProgress\r\n                                .some(id => id === props.user.id)}\r\n                            onClick={() => {\r\n                                props.unFollow(props.user.id)\r\n                            }}>Unsubscribe</IconButton>\r\n                        : <IconButton\r\n                            aria-label=\"follow\"\r\n                            disabled={props.followingInProgress\r\n                                .some(id => id === props.user.id)}\r\n                            onClick={() => {\r\n                                props.follow(props.user.id)\r\n                            }}>Subscribe</IconButton>}\r\n                </div>\r\n            </div>\r\n            <ScrollTop {...props}>\r\n                <IconButton style={{border: 'inherit'}} color={'secondary'}>\r\n                    <KeyboardArrowUpIcon/>\r\n                </IconButton>\r\n            </ScrollTop>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default User;\r\n\r\n","import React from 'react';\r\nimport Search from '../common/Search/Search';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User/User';\r\nimport PreloaderInit from '../common/Preloaders/PreloaderForInit';\r\n\r\n\r\nexport const Users = (props) => {\r\n    return (\r\n        <div>\r\n            <h3 id=\"back-to-top-anchor\">Users:</h3>\r\n            <Search searchName={props.searchName}/>\r\n            <Paginator\r\n                nextPortion={props.nextPortion}\r\n                prevPortion={props.prevPortion}\r\n                firstPortion={props.firstPortion}\r\n                portionSize={props.portionSize}\r\n                portionNumber={props.portionNumber}\r\n                currentPage={props.currentPage}\r\n                totalItemsCount={props.totalItemsCount}\r\n                pageSize={props.pageSize}\r\n                onPageChanged={props.onPageChanged}/>\r\n            {props.isFetching ? <PreloaderInit/> :\r\n                <div>\r\n                    {props.users.map(u => {\r\n                            return <User key={u.id}\r\n                                         user={u}\r\n                                         {...props}/>\r\n                        }\r\n                    )}\r\n                </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\n","import {createSelector} from 'reselect';\r\n\r\nconst getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsersSelector = createSelector(getUsers,\r\n    (users) => {\r\n        return users.filter(u => true)\r\n    })\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalItemsCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\nexport const getPortionSize = (state) => {\r\n    return state.usersPage.portionSize\r\n}\r\nexport const getPortionNumber = (state) => {\r\n    return state.usersPage.portionNumber\r\n}\r\n","import React from 'react';\r\nimport {Users} from './Users';\r\nimport {connect} from 'react-redux';\r\nimport {WithAuthRedirect} from '../Hoc/WithAuthRedirect';\r\nimport {compose} from 'redux';\r\nimport {\r\n    follow,\r\n    followSuccess,\r\n    getUsers, searchName, setPortionNumber, setSearchNameSuccess,\r\n    toggleFollowingProgress,\r\n    unFollow,\r\n    unFollowSuccess\r\n} from '../../bll/usersReducer';\r\nimport {\r\n    getCurrentPage, getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize, getPortionNumber, getPortionSize,\r\n    getTotalUsersCount,\r\n    getUsersSelector\r\n} from '../../bll/selectors/usersSelectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage)\r\n    }\r\n\r\n    onPageChanged = (newPage) => {\r\n        this.props.getUsers(newPage)\r\n    }\r\n\r\n    nextPortion = (portionNumber) => {\r\n        this.props.setPortionNumber(portionNumber)\r\n    }\r\n\r\n    prevPortion = (portionNumber) => {\r\n        this.props.setPortionNumber(portionNumber)\r\n    }\r\n\r\n    firstPortion = (portionNumber) => {\r\n        this.props.setPortionNumber(portionNumber)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setSearchNameSuccess('')\r\n\r\n    }\r\n\r\n    render() {\r\n        return <Users{...this.props}\r\n                     nextPortion={this.nextPortion}\r\n                     prevPortion={this.prevPortion}\r\n                     firstPortion={this.firstPortion}\r\n                     onPageChanged={this.onPageChanged}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSelector(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state),\r\n        portionNumber: getPortionNumber(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    WithAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        followSuccess,\r\n        unFollowSuccess,\r\n        toggleFollowingProgress,\r\n        getUsers,\r\n        follow,\r\n        unFollow,\r\n        setSearchNameSuccess,\r\n        searchName,\r\n        setPortionNumber\r\n    }),\r\n)(UsersContainer)","import React from 'react';\r\nimport ava from '../../../img/ava.png';\r\nimport style from './Friend.module.css';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\n\r\nconst FriendsItem = (props) => {\r\n\r\n    const path = '/profile/' + props.friend.id;\r\n\r\n\r\n    return (<>\r\n        <div className={style.root}>\r\n            <NavLink to={path} activeClassName={style.activeLink}>\r\n                            <img\r\n                                alt=''\r\n                                src={props.friend.photos.small != null\r\n                                    ? props.friend.photos.small : ava}\r\n                                className={style.img}/>\r\n                <div>{props.friend.name}</div>\r\n            </NavLink>\r\n            <div className={style.icon}>\r\n                <IconButton aria-label=\"message\" onClick={() => {\r\n                    props.openDialogs(props.friend.id)\r\n                }}>\r\n                    <EmailIcon/>\r\n                </IconButton>\r\n                <IconButton aria-label=\"delete\" onClick={() => {\r\n                    props.unFollowFriend(props.friend.id)\r\n                }}>\r\n                    Unsubscribe\r\n                </IconButton>\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FriendsItem;","import React from 'react';\r\nimport s from './Friends.module.css'\r\nimport FriendsItem from './FriendsItem/FriendsItem';\r\nimport PreloaderInit from '../common/Preloaders/PreloaderForInit';\r\n\r\n\r\nexport const Friends = (props) => {\r\n\r\n    let friendsElement = props.friends.map(f => {\r\n        return <FriendsItem\r\n            key={f.id}\r\n            friend={f}\r\n            {...props}/>\r\n    });\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            <h3>Friends:</h3>\r\n            {props.loadingFriends ? <PreloaderInit/> : <div className={s.friend}>\r\n                {friendsElement}\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getFriends, removeFriend} from '../../bll/friendsReducer';\r\nimport {WithAuthRedirect} from '../Hoc/WithAuthRedirect';\r\nimport {Friends} from './Friends';\r\nimport {startDialogs} from '../../bll/dialogsReducer';\r\n\r\n\r\nconst FriendsContainer = props => {\r\n\r\n\r\n    const friends = useSelector(state => state.friendsPage.friends)\r\n    const loadingFriends = useSelector(state => state.friendsPage.loadingFriends)\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const openDialogs = (friendsId) => {\r\n        dispatch(startDialogs(friendsId))\r\n    }\r\n\r\n\r\n    const unFollowFriend = React.useCallback((friendId) => {\r\n        dispatch(removeFriend(friendId))\r\n    }, [dispatch])\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getFriends())\r\n    }, [dispatch]);\r\n\r\n    return <Friends\r\n        unFollowFriend={unFollowFriend}\r\n        openDialogs={openDialogs}\r\n        friends={friends}\r\n        loadingFriends={loadingFriends}\r\n    />\r\n};\r\n\r\n\r\nexport default WithAuthRedirect(FriendsContainer);","import React from 'react';\r\nimport s from './DialogItem.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport ava from '../../../img/ava.png';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\n\r\nconst DialogItem = (props) => {\r\n\r\n    const path = '/dialogs/' + props.dialogs.id;\r\n\r\n\r\n    const onClickHandler = () => {\r\n        props.getMessages(props.dialogs.id)\r\n    }\r\n\r\n\r\n    return (\r\n        <List onClick={props.handleDrawerClose} className={s.dialogsItems}>\r\n            <NavLink to={path} activeClassName={s.activeLink}>\r\n                <ListItem button onClick={onClickHandler}>\r\n                    <ListItemIcon>\r\n                        <img\r\n                            alt=''\r\n                            src={props.dialogs.photos.small != null ? props.dialogs.photos.small : ava}\r\n                            className={s.img}/>\r\n                    </ListItemIcon>\r\n                    <div>\r\n                        {props.dialogs.hasNewMessages > 0\r\n                            ? <Badge color=\"secondary\" variant=\"dot\">\r\n                                {props.dialogs.userName}\r\n                            </Badge>\r\n                            : <>{props.dialogs.userName}</>\r\n                        }\r\n                    </div>\r\n                </ListItem>\r\n            </NavLink>\r\n        </List>\r\n    )\r\n}\r\n\r\nexport default DialogItem;\r\n\r\n","import {required} from '../../utils/validators/validators';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {Textarea} from '../common/FormsConrols/FormControls';\r\nimport React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n\r\nfunction AddMessageForm(props) {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field\r\n                name={'newMessageBody'}\r\n                placeholder='Enter your message'\r\n                component={Textarea}\r\n                validate={[required]}\r\n            />\r\n        </div>\r\n        <div>\r\n            <Button color=\"secondary\" type=\"submit\">Send</Button>\r\n\r\n        </div>\r\n    </form>;\r\n}\r\n\r\nexport let AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\n\r\nconst Message = (props) => {\r\n\r\n\r\n    // const data = new Date(props.message.addedAt).toLocaleString()\r\n\r\n    const onClickHandler = () => {\r\n        props.deleteMessage(props.message.id)\r\n\r\n    }\r\n\r\n    return (\r\n        <ListItem>\r\n            {/*<ListItemAvatar>*/}\r\n            {/*    <Avatar alt=\"avatar\" src={props.avatar} />*/}\r\n            {/*</ListItemAvatar>*/}\r\n            <ListItemText primary={props.message.senderName} secondary={props.message.body}/>\r\n            <IconButton edge=\"end\" aria-label=\"delete\" onClick={onClickHandler}>\r\n                <DeleteIcon/>\r\n            </IconButton>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\n\r\nexport default Message;\r\n\r\n","import s from './Dialogs.module.css';\r\nimport React from 'react';\r\nimport {makeStyles, useTheme} from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport DialogItem from './DialogItem/DialogsItem';\r\nimport PreloaderInit from '../common/Preloaders/PreloaderForInit';\r\nimport {AddMessageFormRedux} from './AddMessageForm';\r\nimport Message from './Message/Message';\r\nimport clsx from 'clsx';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    hide: {\r\n        display: 'none',\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n\r\n    },\r\n    drawerHeader: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }\r\n}));\r\n\r\nexport default function Dialogs(props) {\r\n\r\n    const classes = useStyles();\r\n\r\n    const theme = useTheme();\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n\r\n    const dialogsElement = props.dialogs.map(d => <DialogItem\r\n        handleDrawerClose={handleDrawerClose}\r\n        key={d.id}\r\n        dialogs={d}\r\n        getMessages={props.getMessages}\r\n        userId={props.userId}/>);\r\n\r\n    const messagesElement = props.messages.map(m => {\r\n        return <Message\r\n            key={m.id}\r\n            message={m}\r\n            userId={props.userId}\r\n            deleteMessage={props.deleteMessage}/>\r\n    });\r\n\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n\r\n            <Drawer\r\n                className={`${classes.drawer}`}\r\n                variant=\"persistent\"\r\n                anchor=\"left\"\r\n                open={open}\r\n                classes={{\r\n                    paper: classes.drawerPaper,\r\n                }}\r\n            >\r\n                <div className={classes.drawerHeader}>\r\n                    <IconButton onClick={handleDrawerClose}>\r\n                        {theme.direction === 'ltr' ? <ChevronLeftIcon color={'secondary'}/> : ''}\r\n                    </IconButton>\r\n                </div>\r\n\r\n                <List>\r\n                    {props.loadingDialogs ? <PreloaderInit/> :\r\n                        <div>{dialogsElement}</div>}\r\n                </List>\r\n                <Divider/>\r\n            </Drawer>\r\n\r\n\r\n            <div className={`${s.messages}`}>\r\n                <Typography color=\"inherit\"\r\n                            aria-label=\"open drawer\"\r\n                            onClick={handleDrawerOpen}\r\n                            className={clsx(open && classes.hide)}\r\n                            variant=\"h6\"> Click to select dialog</Typography>\r\n                {props.currentDialogsId && <div>\r\n                    {props.loadingMessages ? <PreloaderInit/> : <>{messagesElement}</>}\r\n                    <AddMessageFormRedux onSubmit={props.addNewMessage}/>\r\n                </div>}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport Dialogs from './Dialogs';\r\n\r\nimport {compose} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {WithAuthRedirect} from '../Hoc/WithAuthRedirect';\r\nimport {\r\n    deleteMessage,\r\n    getDialogs,\r\n    getMessages,\r\n    init,\r\n    sendMessage,\r\n    setLoadingMessagesSuccess,\r\n    updateDialog\r\n} from '../../bll/dialogsReducer';\r\n\r\n\r\nclass DialogsContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.init(this.props.userId)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.userId !== this.props.userId) {\r\n            this.props.updateDialog(this.props.userId)\r\n        }\r\n    }\r\n\r\n    addNewMessage = (values) => {\r\n        this.props.sendMessage(this.props.currentDialogsId, values.newMessageBody)\r\n    }\r\n\r\n    deleteMessage = (messageId) => {\r\n        this.props.deleteMessage(messageId)\r\n    }\r\n\r\n\r\n    render() {\r\n        return <Dialogs\r\n                    deleteMessage={this.deleteMessage}\r\n                    addNewMessage={this.addNewMessage}\r\n                    {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    dialogs: state.dialogsPage.dialogs,\r\n    messages: state.dialogsPage.messages,\r\n    currentDialogsId: state.dialogsPage.currentDialogsId,\r\n    loadingMessages: state.dialogsPage.loadingMessages,\r\n    loadingDialogs: state.dialogsPage.loadingDialogs,\r\n    currentDialogsMessagesCount: state.dialogsPage.currentDialogsMessagesCount,\r\n    login: state.auth.login,\r\n    profile: state.profilePage.profile,\r\n\r\n\r\n})\r\nexport default compose(\r\n    WithAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        init,\r\n        updateDialog,\r\n        getMessages,\r\n        sendMessage,\r\n        deleteMessage,\r\n        getDialogs,\r\n        setLoadingMessagesSuccess\r\n    })\r\n)(DialogsContainer);\r\n\r\n","import React from 'react';\r\nimport style from './App.module.css';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport HeaderContainer from './Header/HeaderContainer';\r\nimport Login from './Login/Login';\r\nimport ProfileContainer from './ProfilePage/ProfileContainer';\r\nimport UsersContainer from './UsersPage/UsersContainer';\r\nimport FriendsContainer from './FriendsPage/FriendsContainer';\r\nimport DialogsContainer from './DialogsPage/DialogsContainer';\r\n\r\n\r\nfunction App() {\r\n\r\n\r\n    return (\r\n        <div className={style.appWrapper}>\r\n            <HeaderContainer/>\r\n            <div className={style.appWrapperContent}>\r\n                <Switch>\r\n                    <Route exact path='/' render={() => <Redirect from=\"/\" to=\"/profile\"/>}/>\r\n                    <Route path='/profile/:userId?' render={(props) =>\r\n                        <ProfileContainer userId={props.match.params.userId}/>}/>\r\n                    <Route path='/users/:userId?' render={() => <UsersContainer/>}/>\r\n                    <Route path='/friends' render={() => <FriendsContainer/>}/>\r\n                    <Route path='/dialogs/:userId?' render={(props) =>\r\n                        <DialogsContainer userId={props.match.params.userId}/>}/>\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport s from './Preloader.module.css'\r\nimport preloader from '../../../img/preloader.gif'\r\n\r\nfunction Preloader(props) {\r\n    return (\r\n        <div className={s.main}>\r\n            <h2>\r\n                <img alt='' src={preloader} className={s.preloader}/>\r\n                Loading</h2>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import React, {useEffect} from 'react';\r\nimport App from './App';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\nimport {initializeApp} from '../bll/appReduсer';\r\nimport {getNewMessages} from '../bll/dialogsReducer';\r\nimport Preloader from './common/Preloaders/Preloader';\r\n\r\nconst AppContainerWithHooks = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const initialized = useSelector(state => state.app.initialized)\r\n    const newMessagesCount = useSelector(state => state.dialogsPage.newMessagesCount)\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeApp())\r\n        setInterval(() => {\r\n            dispatch(getNewMessages())\r\n        }, 10000)\r\n    }, [dispatch])\r\n\r\n\r\n    if (!initialized) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return <App\r\n        newMessagesCount={newMessagesCount}/>\r\n}\r\nexport default compose(\r\n    withRouter,\r\n)(AppContainerWithHooks)\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport {store} from './bll/store';\nimport AppContainerWithHooks from './ui/AppContainerWithHooks';\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <AppContainerWithHooks/>\n        </Provider>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Friend_root__1C8Ot\",\"img\":\"Friend_img__LSv7t\",\"icon\":\"Friend_icon__3vUhj\",\"activeLink\":\"Friend_activeLink__3MPcK\"};"],"sourceRoot":""}